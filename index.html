<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ, –∫–æ—Ç–æ—Ä–æ–µ –≥–æ–≤–æ—Ä–∏—Ç –∑–∞ —Ç–µ–±—è. –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ. –ë–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫." />
  <style>
    :root {
      --bg:#f5f7fa;
      --card:#fff;
      --radius:10px;
      --shadow:0 20px 40px -10px rgba(31,45,58,.08);
      --transition:.35s cubic-bezier(.4,.2,.2,1);
      --primary:#2563eb;
      --radius-sm:6px;
      --text:#1f2d3a;
      font-family: system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
      color: var(--text);
      line-height:1.45;
    }
    *{box-sizing:border-box;}
    body{margin:0;background:var(--bg);min-height:100%;-webkit-font-smoothing:antialiased;}
    a{color:inherit;text-decoration:none;}
    img{max-width:100%;display:block;}
    button{cursor:pointer;border:none;background:none;font:inherit;}
    .container{max-width:1200px;margin:0 auto;padding:0 1rem;}
    .flex{display:flex;}
    .center{align-items:center;display:flex;}
    .space-between{justify-content:space-between;}
    .gap{gap:1rem;}
    h1{margin:0;font-size:2.5rem;font-weight:700;line-height:1.1;}
    h2{margin:0;font-size:1.25rem;font-weight:600;}
    p{margin:0 0 1em;font-size:1rem;}
    .btn-primary{background:var(--primary);color:#fff;padding:.75rem 1.5rem;border-radius:8px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:var(--transition);}
    .btn-primary:hover{filter:brightness(1.05);}
    .btn-secondary{padding:.65rem 1.2rem;border-radius:8px;border:1px solid #d4d9e2;font-weight:600;display:inline-flex;align-items:center;gap:.4rem;transition:var(--transition);}
    .shadow{box-shadow:var(--shadow);}
    .card{background:var(--card);border-radius:var(--radius);padding:1.25rem;position:relative;overflow:hidden;transition:var(--transition);}
    .card:hover{transform:translateY(-4px);box-shadow:0 30px 50px -10px rgba(31,45,58,.13);}
    .pill{background:#eef2f7;border-radius:999px;padding:4px 12px;font-size:.625rem;display:inline-block;margin-right:6px;}
    .badge{background:rgba(37,99,235,.08);color:var(--primary);padding:6px 14px;border-radius:999px;font-size:.65rem;font-weight:600;display:inline-block;margin-bottom:6px;}
    .inline-edit{outline:2px dashed transparent;transition:var(--transition);}
    .inline-edit:focus{outline:2px dashed var(--primary);background:rgba(37,99,235,.03);}
    .small{font-size:.85rem;color:#556678;}
    .template-filter{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1rem;}
    .template-filter button{padding:.45rem .9rem;border-radius:999px;border:1px solid #d4d9e2;background:#fff;font-size:.75rem;transition:var(--transition);}
    .template-filter button.active{background:var(--primary);color:#fff;border-color:var(--primary);}
    .badge-template{position:absolute;top:8px;left:8px;background:rgba(255,255,255,.9);padding:4px 10px;border-radius:6px;font-size:.6rem;font-weight:600;box-shadow:0 10px 30px -5px rgba(31,45,58,.1);}
    .nav{display:flex;gap:1rem;flex-wrap:wrap;font-size:.9rem;margin-top:4px;}
    .pill-small{background:#eff3f9;border-radius:999px;padding:5px 12px;font-size:.6rem;margin-right:5px;}
    .editor{display:grid;grid-template-columns:1fr 2fr 1fr;gap:20px;margin-top:40px;}
    .panel{background:#fff;border-radius:12px;padding:15px;position:sticky;top:80px;max-height:calc(100vh - 120px);overflow:auto;}
    .panel h3{margin-top:0;font-size:1rem;text-transform:uppercase;letter-spacing:1px;color:#556678;margin-bottom:8px;}
    .template-card{position:relative;overflow:hidden;border-radius:14px;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between;min-height:180px;}
    .template-thumb{background:#f0f4f9;border-radius:10px;padding:12px;flex:1;display:flex;flex-direction:column;justify-content:space-between;gap:6px;}
    .tag{background:#e7ecf9;border-radius:6px;padding:4px 10px;font-size:.55rem;display:inline-block;margin-right:4px;margin-bottom:4px;}
    .pill-small.selected{background:var(--primary);color:#fff;}
    .stepper{display:flex;gap:12px;flex-wrap:wrap;margin:2rem 0;}
    .step{flex:1;min-width:180px;display:flex;gap:12px;align-items:flex-start;}
    .step .circle{width:32px;height:32px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:700;margin-right:8px;flex-shrink:0;}
    .case{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:15px;margin-top:10px;}
    .case-card{background:var(--card);border-radius:10px;overflow:hidden;position:relative;display:flex;flex-direction:column;}
    .case-thumbnail{height:140px;background:#eef3fb;display:flex;align-items:center;justify-content:center;font-size:.9rem;color:#556678;position:relative;}
    .footer{margin-top:60px;padding:40px 0;font-size:.8rem;color:#556678;}
    .footer .row{display:flex;flex-wrap:wrap;gap:30px;}
    .footer-col{flex:1;min-width:180px;}
    .pill-sm{background:#f0f4f9;border-radius:999px;padding:5px 10px;font-size:.65rem;display:inline-block;margin-bottom:6px;}
    .link{color:#2563eb;}
    .share-box{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;}
    .code{background:#f5f8fc;border-radius:6px;padding:6px 10px;font-family:monospace;font-size:.7rem;overflow-x:auto;display:inline-block;}
    .toggle{display:inline-flex;align-items:center;gap:6px;border:1px solid #d4d9e2;padding:6px 12px;border-radius:999px;font-size:.75rem;}
    .pill-tag{background:rgba(37,99,235,.1);color:var(--primary);padding:6px 12px;border-radius:999px;font-size:.6rem;display:inline-block;margin-right:4px;}
    .badge-live{position:absolute;top:10px;right:10px;background:#22c55e;color:#fff;padding:6px 12px;border-radius:999px;font-size:.55rem;font-weight:600;}
    .micro{font-size:.75rem;color:#556678;margin-top:4px;}
    .template-selected{outline:3px solid var(--primary);}
    @media (max-width: 1024px){
      .editor{grid-template-columns:1fr; }
      .panel{position:relative;top:0;max-height:none;margin-bottom:20px;}
    }
    .tooltip{position:relative;cursor:help;}
    .tooltip:hover .tip{visibility:visible;opacity:1;}
    .tip{position:absolute;bottom:125%;left:50%;transform:translateX(-50%);background:#1f2d3a;color:#fff;padding:8px 12px;border-radius:6px;font-size:.65rem;white-space:nowrap;visibility:hidden;opacity:0;transition:opacity .2s;z-index:10;}
    .pill-small[data-active="true"]{background:var(--primary);color:#fff;}
    .flex-wrap{display:flex;flex-wrap:wrap;gap:8px;}
    .divider{height:1px;background:#e6e9f2;margin:30px 0;}
    .light{background:#fff;}
    .code-block{background:#f1f5fb;border-radius:8px;padding:12px;font-family:monospace;overflow-x:auto;}
    .badge-new{background:#ffb703;color:#1f2d3a;padding:5px 12px;border-radius:999px;font-size:.55rem;margin-right:6px;display:inline-block;}
    .inline-small{font-size:.85rem;background:#f9fbfe;padding:4px 8px;border-radius:5px;margin-right:4px;}
  </style>
</head>
<body>

  <!-- HEADER / HERO -->
  <header class="container" style="padding:30px 0;">
    <div class="flex space-between" style="flex-wrap:wrap;">
      <div style="display:flex;align-items:center;gap:16px;">
        <div style="font-weight:700;font-size:1.1rem;">InstantPortfolio</div>
        <div class="small">–ë–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ë–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫. –°—Å—ã–ª–∫–∞ –≥–æ—Ç–æ–≤–∞ —Å—Ä–∞–∑—É.</div>
      </div>
      <div class="flex gap" style="flex-wrap:wrap;">
        <button class="btn-secondary" onclick="scrollToGallery()">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä—ã</button>
        <button class="btn-primary" id="startBtn" onclick="createDraft()">–°–æ–∑–¥–∞—Ç—å –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</button>
      </div>
    </div>
  </header>

  <section class="container" style="margin-top:10px;">
    <div class="flex" style="gap:40px;flex-wrap:wrap;">
      <div style="flex:1;min-width:300px;">
        <h1>–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ, –∫–æ—Ç–æ—Ä–æ–µ –≥–æ–≤–æ—Ä–∏—Ç –∑–∞ —Ç–µ–±—è. –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ.</h1>
        <p>–í—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω, –Ω–∞—Å—Ç—Ä–æ–π ‚Äî –ø–æ–¥–µ–ª–∏—Å—å. –ù–∏–∫–∞–∫–∏—Ö —Ñ–æ—Ä–º, –Ω–∏–∫–∞–∫–∏—Ö –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤.</p>
        <div class="flex gap" style="margin-top:16px;">
          <button class="btn-primary" onclick="createDraft()">–ù–∞—á–∞—Ç—å —Å–µ–π—á–∞—Å</button>
          <button class="btn-secondary" onclick="scrollToGallery()">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä—ã</button>
        </div>
        <p class="small" style="margin-top:12px;">–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –≥–æ—Å—Ç–µ–≤–æ–µ –¥—Ä–∞—Ñ—Ç-–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ. –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –æ–¥–Ω–æ–π —Å—Å—ã–ª–∫–æ–π.</p>
      </div>
      <div style="flex:1;min-width:280px;position:relative;">
        <!-- –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–∏–Ω–∏-–ø—Ä–µ–≤—å—é -->
        <div class="card shadow" style="padding:16px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="flex:1;">
              <div style="background:#e8ecf8;height:14px;width:70%;border-radius:6px;margin-bottom:8px;"></div>
              <div style="background:#dfe6f2;height:12px;width:50%;border-radius:6px;margin-bottom:12px;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#eef3fb;height:60px;flex:1;border-radius:8px;"></div>
                <div style="background:#eef3fb;height:60px;flex:1;border-radius:8px;"></div>
                <div style="background:#eef3fb;height:60px;flex:1;border-radius:8px;"></div>
              </div>
            </div>
            <div style="width:120px;">
              <div style="background:#f0f4f9;height:120px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#556678;">Live Preview</div>
            </div>
          </div>
          <div class="badge-live">–ü—Ä–∏–º–µ—Ä</div>
        </div>
      </div>
    </div>

    <!-- –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
    <div class="divider"></div>
    <div class="container">
      <div style="text-align:center;max-width:900px;margin:0 auto;">
        <h2 style="font-size:1.9rem;">–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
        <p class="small">–ü—Ä–æ—Å—Ç–æ–π –ø–æ—Ç–æ–∫, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ë–µ–∑ –±–∞—Ä—å–µ—Ä–æ–≤.</p>
      </div>
      <div class="flex" style="margin-top:30px;gap:20px;flex-wrap:wrap;">
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="font-size:1.5rem;line-height:1;">‚ö°</div>
            <div>
              <div style="font-weight:600;">–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ</div>
              <div class="small">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –≥–æ—Ç–æ–≤–æ –∑–∞ —Å–µ–∫—É–Ω–¥—ã ‚Äî –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Ñ–æ—Ä–º.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="font-size:1.5rem;line-height:1;">üé®</div>
            <div>
              <div style="font-weight:600;">–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω</div>
              <div class="small">–ì–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="font-size:1.5rem;line-height:1;">‚úèÔ∏è</div>
            <div>
              <div style="font-weight:600;">–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å</div>
              <div class="small">Inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ç–µ–∫—Å—Ç, —Ü–≤–µ—Ç–∞, —Å–µ–∫—Ü–∏–∏ ‚Äî –≤—Å—ë –∑–¥–µ—Å—å.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="font-size:1.5rem;line-height:1;">üåÄ</div>
            <div>
              <div style="font-weight:600;">–ñ–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏</div>
              <div class="small">–ú—è–≥–∫–∏–µ –≤—Ö–æ–¥—ã –∏ hover-—ç—Ñ—Ñ–µ–∫—Ç—ã —Å —É—á–µ—Ç–æ–º prefers-reduced-motion.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="font-size:1.5rem;line-height:1;">üîó</div>
            <div>
              <div style="font-weight:600;">–ë–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏</div>
              <div class="small">–ù–∏–∫–∞–∫–∏—Ö email, –ø–æ–¥–ø–∏—Å–æ–∫ –∏ —Å–∫—Ä—ã—Ç—ã—Ö —É—Å–ª–æ–≤–∏–π.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ì–∞–ª–µ—Ä–µ—è —à–∞–±–ª–æ–Ω–æ–≤ -->
    <div id="gallery" class="divider"></div>
    <div class="container">
      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;">
        <div>
          <h2 style="font-size:1.9rem;">–®–∞–±–ª–æ–Ω—ã –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ</h2>
          <p class="small">–ù–∞—á–Ω–∏ —Å –≥–æ—Ç–æ–≤–æ–≥–æ: –¥–ª—è –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–æ–≤.</p>
        </div>
        <div class="template-filter" aria-label="–§–∏–ª—å—Ç—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤">
          <button data-filter="all" class="active" onclick="filterTemplates('all')">–í—Å–µ</button>
          <button data-filter="designer" onclick="filterTemplates('designer')">–î–∏–∑–∞–π–Ω–µ—Ä</button>
          <button data-filter="developer" onclick="filterTemplates('developer')">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</button>
          <button data-filter="minimal" onclick="filterTemplates('minimal')">–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç</button>
        </div>
      </div>
      <div id="templates" class="flex" style="flex-wrap:wrap;gap:16px;margin-top:12px;">
        <!-- —à–∞–±–ª–æ–Ω—ã -->
        <div class="card template-card" data-type="designer" onclick="selectTemplate('ux')" id="tpl-ux" style="flex:1;min-width:260px;max-width:320px;">
          <div class="badge-template">–õ—É—á—à–µ –≤—Å–µ–≥–æ –¥–ª—è UX-–¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤</div>
          <div class="template-thumb">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:600;">UX Designer</div>
              <div class="pill-small">–í–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–µ</div>
            </div>
            <div style="margin-top:8px;">
              <div style="background:#e6eaf7;height:10px;width:60%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="background:#d9e2f9;height:8px;width:40%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#eef3fb;height:40px;flex:1;border-radius:5px;"></div>
                <div style="background:#eef3fb;height:40px;flex:1;border-radius:5px;"></div>
              </div>
            </div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center;">
              <div class="small">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ</div>
              <div><button class="btn-secondary" onclick="event.stopPropagation(); selectTemplate('ux'); createDraft()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å</button></div>
            </div>
          </div>
        </div>

        <div class="card template-card" data-type="developer" onclick="selectTemplate('dev')" id="tpl-dev" style="flex:1;min-width:260px;max-width:320px;">
          <div class="badge-template">–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏</div>
          <div class="template-thumb">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:600;">Frontend Engineer</div>
              <div class="pill-small">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏</div>
            </div>
            <div style="margin-top:8px;">
              <div style="background:#f0f8f0;height:10px;width:50%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="background:#d7eed9;height:8px;width:70%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#e7f5ec;height:40px;flex:1;border-radius:5px;"></div>
                <div style="background:#e7f5ec;height:40px;flex:1;border-radius:5px;"></div>
              </div>
            </div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center;">
              <div class="small">–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ</div>
              <div><button class="btn-secondary" onclick="event.stopPropagation(); selectTemplate('dev'); createDraft()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å</button></div>
            </div>
          </div>
        </div>

        <div class="card template-card" data-type="minimal" onclick="selectTemplate('minimal')" id="tpl-minimal" style="flex:1;min-width:260px;max-width:320px;">
          <div class="badge-template">–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ —Ä–µ–∑—é–º–µ</div>
          <div class="template-thumb">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:600;">Minimal Resume</div>
              <div class="pill-small">–ß–∏—Å—Ç–æ</div>
            </div>
            <div style="margin-top:8px;">
              <div style="background:#f9f9f9;border:1px solid #ddd;height:10px;width:55%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="background:#f9f9f9;border:1px solid #ddd;height:8px;width:45%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#f9f9f9;border:1px solid #ddd;height:40px;flex:1;border-radius:5px;"></div>
                <div style="background:#f9f9f9;border:1px solid #ddd;height:40px;flex:1;border-radius:5px;"></div>
              </div>
            </div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center;">
              <div class="small">–õ–∞–∫–æ–Ω–∏—á–Ω–æ</div>
              <div><button class="btn-secondary" onclick="event.stopPropagation(); selectTemplate('minimal'); createDraft()">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å</button></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç -->
    <div class="divider"></div>
    <div class="container">
      <div style="text-align:center;max-width:800px;margin:0 auto;">
        <h2 style="font-size:1.9rem;">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
        <p class="small">–¢—Ä–∏ —à–∞–≥–∞ –¥–æ –∂–∏–≤–æ–π —Å—Å—ã–ª–∫–∏.</p>
      </div>
      <div class="stepper">
        <div class="step">
          <div class="circle">1</div>
          <div>
            <div style="font-weight:600;">–í—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω</div>
            <div class="small">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Å –≥–æ—Ç–æ–≤–æ–≥–æ —Å—Ç–∏–ª—è.</div>
          </div>
        </div>
        <div class="step">
          <div class="circle">2</div>
          <div>
            <div style="font-weight:600;">–ù–∞—Å—Ç—Ä–æ–π</div>
            <div class="small">–ö–ª–∏–∫–Ω–∏ –ø–æ —Ç–µ–∫—Å—Ç—É –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º, —á—Ç–æ–±—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å inline.</div>
          </div>
        </div>
        <div class="step">
          <div class="circle">3</div>
          <div>
            <div style="font-weight:600;">–ü–æ–¥–µ–ª–∏—Å—å</div>
            <div class="small">–°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É ‚Äî –æ–Ω–∞ —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.</div>
          </div>
        </div>
      </div>
    </div>

    <!-- –†–µ–¥–∞–∫—Ç–æ—Ä –∏ preview -->
    <div class="divider"></div>
    <div class="container">
      <div class="editor" aria-label="–†–µ–¥–∞–∫—Ç–æ—Ä –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ">
        <!-- –ª–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="panel" style="flex:1;">
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <div>
              <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
              <div class="small">–ì–æ—Å—Ç–µ–≤–æ–π –¥—Ä–∞—Ñ—Ç ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</div>
            </div>
            <div>
              <button class="btn-secondary" onclick="undo()">‚Ü∫</button>
              <button class="btn-secondary" onclick="redo()">‚Üª</button>
            </div>
          </div>

          <div style="margin-top:16px;">
            <div class="small">–®–∞–±–ª–æ–Ω</div>
            <div class="flex-wrap" style="margin-top:6px;">
              <button class="toggle" data-template="ux" onclick="selectTemplate('ux')">UX Designer</button>
              <button class="toggle" data-template="dev" onclick="selectTemplate('dev')">Developer</button>
              <button class="toggle" data-template="minimal" onclick="selectTemplate('minimal')">Minimal</button>
            </div>
          </div>

          <div style="margin-top:20px;">
            <div class="small">–¢–µ–º–∞</div>
            <div style="display:flex;gap:10px;margin-top:6px;flex-wrap:wrap;">
              <div>
                <div class="small">–¶–≤–µ—Ç –∞–∫—Ü–µ–Ω—Ç–∞</div>
                <input type="color" id="colorPicker" value="#2563eb" onchange="updateTheme()" aria-label="–í—ã–±–æ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞" />
              </div>
              <div>
                <div class="small">–®—Ä–∏—Ñ—Ç</div>
                <select id="fontSelect" onchange="updateTheme()" aria-label="–í—ã–±–æ—Ä —à—Ä–∏—Ñ—Ç–∞">
                  <option value="system-ui,-apple-system,BlinkMacSystemFont,sans-serif">–°–∏—Å—Ç–µ–º–∞</option>
                  <option value="'Segoe UI', system-ui,-apple-system">Segoe UI</option>
                  <option value="'Roboto', system-ui,-apple-system">Roboto</option>
                  <option value="'Open Sans', system-ui,-apple-system">Open Sans</option>
                </select>
              </div>
            </div>
          </div>

          <div style="margin-top:20px;">
            <div class="small">–®–∞—Ä–∏–Ω–≥</div>
            <div class="share-box">
              <input type="text" id="shareLink" readonly style="flex:1;padding:8px;border:1px solid #d4d9e2;border-radius:6px;font-size:.9rem;" aria-label="–°—Å—ã–ª–∫–∞ –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞" />
              <button class="btn-primary" onclick="copyLink()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
            <div class="micro">–°—Å—ã–ª–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –≤ —Ä–µ–∂–∏–º–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞.</div>
          </div>

          <div style="margin-top:20px;">
            <div class="small">–≠–∫—Å–ø–æ—Ä—Ç</div>
            <div style="margin-top:6px;">
              <button class="btn-secondary" onclick="downloadStatic()">–°–∫–∞—á–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ HTML</button>
            </div>
            <div class="micro">–ü–æ–ª—É—á–∞–µ—à—å –µ–¥–∏–Ω–∏—á–Ω—ã–π HTML-—Ñ–∞–π–ª —Å —Ç–µ–∫—É—â–∏–º –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.</div>
          </div>

          <div style="margin-top:30px;">
            <div class="small">–ò—Å—Ç–æ—Ä–∏—è</div>
            <div class="micro">–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ. –ú–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å/–≤–µ—Ä–Ω—É—Ç—å.</div>
          </div>
        </div>

        <!-- canvas (–ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä / —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ) -->
        <div class="panel" style="flex:2;" aria-label="Canvas —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞">
          <div style="display:flex;justify-content:space-between;align-items:start;flex-wrap:wrap;gap:10px;">
            <div>
              <div contenteditable="true" class="inline-edit" id="title" style="font-size:2rem;font-weight:700;">–ò–º—è –§–∞–º–∏–ª–∏—è</div>
              <div contenteditable="true" class="inline-edit small" id="subtitle" style="margin-top:4px;">Frontend-–∏–Ω–∂–µ–Ω–µ—Ä, —Å–æ–∑–¥–∞—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</div>
            </div>
            <div style="display:flex;gap:10px;flex-wrap:wrap;">
              <div class="pill-sm">–ü—Ä–æ—Å–º–æ—Ç—Ä</div>
              <div class="pill-sm">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
            </div>
          </div>

          <div style="margin-top:20px;">
            <div class="badge-new">–û —Å–µ–±–µ</div>
            <div contenteditable="true" class="inline-edit" id="about" style="margin-top:6px;padding:12px;border:1px solid #e3e8f9;border-radius:8px;">
              –ü—Ä–∏–≤–µ—Ç! –Ø —Å–æ–∑–¥–∞—é –±—ã—Å—Ç—Ä—ã–µ –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –±–µ–∑ –ª–∏—à–Ω–∏—Ö —É—Å–∏–ª–∏–π. –ò—Å–ø–æ–ª—å–∑—É—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –∏ –¥–µ–ª–∞—é –≤—Å—ë –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ.
            </div>
          </div>

          <div style="margin-top:30px;">
            <div class="badge-new">–ü—Ä–æ–µ–∫—Ç—ã</div>
            <div id="projects" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:10px;">
              <!-- –ø—Ä–æ–µ–∫—Ç–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ -->
            </div>
            <div style="margin-top:12px;">
              <button class="btn-secondary" onclick="addProject()">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
            </div>
          </div>

          <div style="margin-top:30px;">
            <div class="badge-new">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
            <div style="display:flex;gap:16px;flex-wrap:wrap;margin-top:8px;">
              <div contenteditable="true" class="inline-edit" style="padding:8px;border:1px solid #dce2f0;border-radius:6px;flex:1;min-width:120px;">Email: example@mail.com</div>
              <div contenteditable="true" class="inline-edit" style="padding:8px;border:1px solid #dce2f0;border-radius:6px;flex:1;min-width:120px;">GitHub: github.com/username</div>
            </div>
          </div>
        </div>

        <!-- –ø—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="panel" style="flex:1;">
          <div>
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
          </div>
          <div style="margin-top:12px;">
            <div class="small">–ê–Ω–∏–º–∞—Ü–∏–∏</div>
            <div style="margin-top:6px;">
              <label><input type="checkbox" id="toggleAnimation" checked onchange="applyAnimationSettings()"> –í–∫–ª—é—á–µ–Ω—ã –≤—Ö–æ–¥–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã</label>
            </div>
          </div>
          <div style="margin-top:20px;">
            <div class="small">SEO & –ø—Ä–µ–≤—å—é</div>
            <div style="margin-top:8px;">
              <div class="small">Title</div>
              <input type="text" id="seoTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –ø–æ–∏—Å–∫–∞" style="width:100%;padding:8px;border:1px solid #d4d9e2;border-radius:6px;margin-top:4px;" />
              <div class="small" style="margin-top:10px;">Description</div>
              <textarea id="seoDesc" rows="3" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞" style="width:100%;padding:8px;border:1px solid #d4d9e2;border-radius:6px;margin-top:4px;"></textarea>
            </div>
          </div>

          <div style="margin-top:20px;">
            <div class="small">–ü—Ä–µ–≤—å—é</div>
            <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap;">
              <div style="flex:1;min-width:100px;">
                <div class="small">–ú–æ–±–∏–ª—å–Ω–æ–µ</div>
                <div style="border:1px solid #d4d9e2;border-radius:8px;padding:6px;margin-top:4px;">üì±</div>
              </div>
              <div style="flex:1;min-width:100px;">
                <div class="small">–î–µ—Å–∫—Ç–æ–ø</div>
                <div style="border:1px solid #d4d9e2;border-radius:8px;padding:6px;margin-top:4px;">üñ•Ô∏è</div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- –ö–µ–π—Å—ã -->
    <div class="divider"></div>
    <div class="container">
      <div style="text-align:center;max-width:800px;margin:0 auto;">
        <h2 style="font-size:1.9rem;">–ñ–∏–≤—ã–µ –∫–µ–π—Å—ã</h2>
        <p class="small">–ü—Ä–∏–º–µ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –¥–µ–ª—è—Ç—Å—è —Å–≤–æ–∏–º–∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.</p>
      </div>
      <div class="case">
        <div class="case-card">
          <div class="case-thumbnail">
            <div>–§—Ä–∏–ª–∞–Ω—Å-–¥–∏–∑–∞–π–Ω–µ—Ä ‚Äî —Ä–µ–∑—é–º–µ –∏ –ø—Ä–æ–µ–∫—Ç—ã</div>
          </div>
          <div style="padding:12px;">
            <div style="font-weight:600;">Anna Ivanova</div>
            <div class="small" style="margin-top:4px;">UX/UI designer. –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–¥–∏–∑–∞–π–Ω–∞.</div>
            <div style="margin-top:10px;">
              <button class="btn-secondary" onclick="alert('–û—Ç–∫—Ä—ã—Ç—å –∂–∏–≤–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ')">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
          </div>
        </div>
        <div class="case-card">
          <div class="case-thumbnail">
            <div>Frontend-–∏–Ω–∂–µ–Ω–µ—Ä ‚Äî –ø—Ä–æ–µ–∫—Ç—ã –∏ –±–ª–æ–≥</div>
          </div>
          <div style="padding:12px;">
            <div style="font-weight:600;">Ivan Petrov</div>
            <div class="small" style="margin-top:4px;">React / Vanilla JS. –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –∫–µ–π—Å—ã.</div>
            <div style="margin-top:10px;">
              <button class="btn-secondary" onclick="alert('–û—Ç–∫—Ä—ã—Ç—å –∂–∏–≤–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ')">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
          </div>
        </div>
        <div class="case-card">
          <div class="case-thumbnail">
            <div>–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ —Ä–µ–∑—é–º–µ</div>
          </div>
          <div style="padding:12px;">
            <div style="font-weight:600;">Maria S.</div>
            <div class="small" style="margin-top:4px;">–ö—Ä–∞—Ç–∫–æ–µ, —á–∏—Å—Ç–æ–µ, —ç—Ñ—Ñ–µ–∫—Ç–Ω–æ–µ.</div>
            <div style="margin-top:10px;">
              <button class="btn-secondary" onclick="alert('–û—Ç–∫—Ä—ã—Ç—å –∂–∏–≤–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ')">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ë–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫ / –¥–æ–≤–µ—Ä–∏–µ -->
    <div class="divider"></div>
    <div class="container" style="padding:40px 0;">
      <div class="card" style="display:flex;gap:30px;flex-wrap:wrap;">
        <div style="flex:1;min-width:220px;">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px;">
            <div style="font-size:1.8rem;">üõ°Ô∏è</div>
            <div>
              <div style="font-weight:700;">–ë–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫</div>
              <div class="small">–¢—ã —Å–æ–∑–¥–∞—ë—à—å ‚Äî –∏ —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞–µ—à—å —Å—Å—ã–ª–∫—É. –ù–∏–∫–∞–∫–∏—Ö email, –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.</div>
            </div>
          </div>
          <div class="small">–°–æ—Ö—Ä–∞–Ω—è–π –ª–æ–∫–∞–ª—å–Ω–æ, –¥–µ–ª–∏—Å—å –ø—É–±–ª–∏—á–Ω–æ. –ë–µ–∑ —Å–ø–∞–º–∞. –ë–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤.</div>
        </div>
        <div style="flex:1;min-width:220px;">
          <div class="small">–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º:</div>
          <ul style="padding-left:18px;margin-top:6px;">
            <li>–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ</li>
            <li>–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Å—Å—ã–ª–∫—É</li>
            <li>Inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –º–æ–¥–∞–ª–æ–∫</li>
            <li>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã, SEO –∏ —à–∞—Ä–∏–Ω–≥</li>
            <li>–≠–∫—Å–ø–æ—Ä—Ç –≤ —á–∏—Å—Ç—ã–π HTML –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
      <div class="container">
        <div class="row">
          <div class="footer-col">
            <div style="font-weight:700;margin-bottom:6px;">InstantPortfolio</div>
            <div class="small">–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ ‚Äî –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫.</div>
          </div>
          <div class="footer-col">
            <div style="font-weight:600;margin-bottom:6px;">–ù–∞–≤–∏–≥–∞—Ü–∏—è</div>
            <div><a class="link" href="#gallery">–®–∞–±–ª–æ–Ω—ã</a></div>
            <div><a class="link" href="#about">–û –ø—Ä–æ–¥—É–∫—Ç–µ</a></div>
            <div><a class="link" href="javascript:void(0)">FAQ</a></div>
            <div><a class="link" href="javascript:void(0)">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</a></div>
          </div>
          <div class="footer-col">
            <div style="font-weight:600;margin-bottom:6px;">–ü—Ä–∞–≤–æ</div>
            <div><a class="link" href="javascript:void(0)">–ü–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏</a></div>
            <div><a class="link" href="javascript:void(0)">–£—Å–ª–æ–≤–∏—è</a></div>
          </div>
          <div class="footer-col">
            <div style="font-weight:600;margin-bottom:6px;">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
            <div class="small">support@instantportfolio.example</div>
          </div>
        </div>
        <div style="margin-top:30px;text-align:center;">
          <div class="small">&copy; <span id="footerYear"></span> InstantPortfolio. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- LZ-STRING (—Å–∂–∞—Ç–∏–µ/–¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è) -->
  <script>
    // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è lz-string –¥–ª—è compressToEncodedURIComponent / decompressFromEncodedURIComponent
    // –ò—Å—Ç–æ—á–Ω–∏–∫: https://github.com/pieroxy/lz-string (—Å—Ö–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–æ)
    const LZString = (function(){
      const f = String.fromCharCode;
      const keyStrBase64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      function compressToEncodedURIComponent(input) {
        if (input == null) return "";
        return encodeURIComponent(_compress(input, 6, function(a){ return "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$".charAt(a); }));
      }
      function decompressFromEncodedURIComponent(input) {
        if (input == null) return "";
        input = decodeURIComponent(input);
        return _decompress(input.length, 32, function(index){ return "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$".charAt(index); });
      }
      function _compress(uncompressed, bitsPerChar, getCharFromInt) {
        if (uncompressed == null) return "";
        let i, value, context_dictionary = {}, context_dictionaryToCreate = {}, context_c = "", context_wc = "", context_w = "", context_enlargeIn = 2, context_dictSize = 3, context_numBits = 2, context_data = [], context_data_val = 0, context_data_position = 0;
        for (let ii = 0; ii < uncompressed.length; ii += 1) {
          context_c = uncompressed.charAt(ii);
          if (!Object.prototype.hasOwnProperty.call(context_dictionary, context_c)) {
            context_dictionary[context_c] = context_dictSize++;
            context_dictionaryToCreate[context_c] = true;
          }
          context_wc = context_w + context_c;
          if (Object.prototype.hasOwnProperty.call(context_dictionary, context_wc)) {
            context_w = context_wc;
          } else {
            if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate, context_w)) {
              value = context_w.charCodeAt(0);
              for (i = 0; i < context_numBits; i++) {
                context_data_val = (context_data_val << 1);
                if ((value & (1 << (context_numBits - i - 1))) !== 0) context_data_val |= 1;
                context_data_position++;
                if (context_data_position == 8) {
                  context_data_position = 0;
                  context_data.push(f(context_data_val));
                  context_data_val = 0;
                }
              }
              context_enlargeIn--;
              if (context_enlargeIn == 0) {
                context_enlargeIn = Math.pow(2, context_numBits);
                context_numBits++;
              }
              delete context_dictionaryToCreate[context_w];
            } else {
              value = context_dictionary[context_w];
              for (i = 0; i < context_numBits; i++) {
                context_data_val = (context_data_val << 1) | ((value >> (context_numBits - i - 1)) & 1);
                context_data_position++;
                if (context_data_position == 8) {
                  context_data_position = 0;
                  context_data.push(f(context_data_val));
                  context_data_val = 0;
                }
              }
            }
            context_enlargeIn--;
            if (context_enlargeIn == 0) {
              context_enlargeIn = Math.pow(2, context_numBits);
              context_numBits++;
            }
            context_dictionary[context_wc] = context_dictSize++;
            context_w = String(context_c);
          }
        }
        if (context_w !== "") {
          if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate, context_w)) {
            value = context_w.charCodeAt(0);
            for (i = 0; i < context_numBits; i++) {
              context_data_val = (context_data_val << 1);
              if ((value & (1 << (context_numBits - i - 1))) !== 0) context_data_val |= 1;
              context_data_position++;
              if (context_data_position == 8) {
                context_data_position = 0;
                context_data.push(f(context_data_val));
                context_data_val = 0;
              }
            }
            context_enlargeIn--;
            if (context_enlargeIn == 0) {
              context_enlargeIn = Math.pow(2, context_numBits);
              context_numBits++;
            }
            delete context_dictionaryToCreate[context_w];
          } else {
            value = context_dictionary[context_w];
            for (i = 0; i < context_numBits; i++) {
              context_data_val = (context_data_val << 1) | ((value >> (context_numBits - i - 1)) & 1);
              context_data_position++;
              if (context_data_position == 8) {
                context_data_position = 0;
                context_data.push(f(context_data_val));
                context_data_val = 0;
              }
            }
          }
          context_enlargeIn--;
          if (context_enlargeIn == 0) {
            context_enlargeIn = Math.pow(2, context_numBits);
            context_numBits++;
          }
        }
        value = 2;
        for (i = 0; i < context_numBits; i++) {
          context_data_val = (context_data_val << 1) | ((value >> (context_numBits - i - 1)) & 1);
          context_data_position++;
          if (context_data_position == 8) {
            context_data_position = 0;
            context_data.push(f(context_data_val));
            context_data_val = 0;
          }
        }
        while (true) {
          context_data_val = (context_data_val << 1);
          context_data_position++;
          if (context_data_position == 8) {
            context_data_position = 0;
            context_data.push(f(context_data_val));
            break;
          }
        }
        return context_data.join('');
      }
      function _decompress(length, resetValue, getNextValue) {
        let dictionary = [0,1];
        let enlargeIn = 4;
        let dictSize = 4;
        let numBits = 3;
        let entry = "";
        let result = [];
        let i, w, bits, resb, maxpower, power;
        let data = { val:getNextValue(0), position:resetValue, index:1 };
        function readBit() {
          if (data.position == resetValue) {
            data.position = 0;
            data.val = getNextValue(data.index++);
          }
          const bit = (data.val >> (resetValue - data.position - 1)) & 1;
          data.position++;
          if (data.position == resetValue) data.position = resetValue;
          return bit;
        }
        function readBits(n) {
          let bits = 0;
          for (let i = 0; i < n; i++) {
            bits = (bits << 1) | readBit();
          }
          return bits;
        }
        let next = readBits(2);
        switch (next) {
          case 0: w = f(readBits(8)); break;
          case 1: w = f(readBits(16)); break;
          case 2: return "";
        }
        dictionary[2] = w;
        result.push(w);
        while (true) {
          if (data.index > length) return "";
          let cc = readBits(numBits);
          let c;
          switch (cc) {
            case 0:
              c = f(readBits(8));
              dictionary[dictSize++] = c;
              cc = dictSize -1;
              enlargeIn--;
              break;
            case 1:
              c = f(readBits(16));
              dictionary[dictSize++] = c;
              cc = dictSize -1;
              enlargeIn--;
              break;
            case 2:
              return result.join('');
          }
          if (enlargeIn == 0) {
            enlargeIn = Math.pow(2, numBits);
            numBits++;
          }
          if (dictionary[cc]) {
            entry = dictionary[cc];
          } else if (cc === dictSize) {
            entry = w + w.charAt(0);
          } else {
            return null;
          }
          result.push(entry);
          dictionary[dictSize++] = w + entry.charAt(0);
          enlargeIn--;
          w = entry;
          if (enlargeIn == 0) {
            enlargeIn = Math.pow(2, numBits);
            numBits++;
          }
        }
      }
      return { compressToEncodedURIComponent, decompressFromEncodedURIComponent };
    })();
  </script>

  <!-- –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ -->
  <script>
    // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
    let state = {
      template: 'ux', // ux, dev, minimal
      theme: {
        accent: '#2563eb',
        font: "system-ui,-apple-system,BlinkMacSystemFont,sans-serif"
      },
      content: {
        title: '–ò–º—è –§–∞–º–∏–ª–∏—è',
        subtitle: 'Frontend-–∏–Ω–∂–µ–Ω–µ—Ä, —Å–æ–∑–¥–∞—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã',
        about: '–ü—Ä–∏–≤–µ—Ç! –Ø —Å–æ–∑–¥–∞—é –±—ã—Å—Ç—Ä—ã–µ –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –±–µ–∑ –ª–∏—à–Ω–∏—Ö —É—Å–∏–ª–∏–π. –ò—Å–ø–æ–ª—å–∑—É—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –∏ –¥–µ–ª–∞—é –≤—Å—ë –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ.',
        projects: [
          { name: '–ü—Ä–æ–µ–∫—Ç A', desc: '–û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.' },
          { name: '–ü—Ä–æ–µ–∫—Ç B', desc: '–û–ø–∏—Å–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.' }
        ],
        contacts: {
          email: 'example@mail.com',
          github: 'github.com/username'
        },
        seo: {
          title: '',
          description: ''
        }
      },
      animations: true
    };

    // –ò—Å—Ç–æ—Ä–∏—è –¥–ª—è undo/redo
    let history = [];
    let historyPtr = -1;
    const MAX_HISTORY = 30;
    let saveTimeout = null;

    // –≠–ª–µ–º–µ–Ω—Ç—ã
    const titleEl = document.getElementById('title');
    const subtitleEl = document.getElementById('subtitle');
    const aboutEl = document.getElementById('about');
    const projectsEl = document.getElementById('projects');
    const shareLinkInput = document.getElementById('shareLink');
    const colorPicker = document.getElementById('colorPicker');
    const fontSelect = document.getElementById('fontSelect');
    const seoTitleEl = document.getElementById('seoTitle');
    const seoDescEl = document.getElementById('seoDesc');
    const footerYear = document.getElementById('footerYear');

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    function init() {
      footerYear.textContent = new Date().getFullYear();
      // –ø—Ä–∏–≤—è–∑–∫–∞ inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
      [titleEl, subtitleEl, aboutEl].forEach(el => {
        el.addEventListener('input', scheduleStateSave);
        el.addEventListener('blur', applyFromDOM);
      });
      seoTitleEl.addEventListener('input', scheduleStateSave);
      seoDescEl.addEventListener('input', scheduleStateSave);

      loadFromURLOrLocal();
      render();
      updateShareLink();
    }

    function scheduleStateSave() {
      if (saveTimeout) clearTimeout(saveTimeout);
      saveTimeout = setTimeout(() => {
        applyFromDOM();
        pushHistory();
        persistLocal();
        updateShareLink();
      }, 300);
    }

    function applyFromDOM() {
      state.content.title = titleEl.textContent.trim() || '–ò–º—è –§–∞–º–∏–ª–∏—è';
      state.content.subtitle = subtitleEl.textContent.trim() || 'Frontend-–∏–Ω–∂–µ–Ω–µ—Ä, —Å–æ–∑–¥–∞—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã';
      state.content.about = aboutEl.textContent.trim();
      // –∫–æ–Ω—Ç–∞–∫—Ç—ã
      const contacts = Array.from(document.querySelectorAll('#projects .project-card')).map((card, idx) => {
        return {
          name: card.querySelector('.proj-name')?.textContent.trim() || `–ü—Ä–æ–µ–∫—Ç ${idx+1}`,
          desc: card.querySelector('.proj-desc')?.textContent.trim() || ''
        };
      });
      if (contacts.length) state.content.projects = contacts;
      // SEO
      state.content.seo.title = seoTitleEl.value;
      state.content.seo.description = seoDescEl.value;
    }

    function pushHistory() {
      const snapshot = JSON.stringify(state);
      if (historyPtr >= 0 && history[historyPtr] === snapshot) return;
      history = history.slice(0, historyPtr + 1);
      history.push(snapshot);
      if (history.length > MAX_HISTORY) history.shift();
      historyPtr = history.length - 1;
    }

    function undo() {
      if (historyPtr > 0) {
        historyPtr--;
        state = JSON.parse(history[historyPtr]);
        render();
        persistLocal();
        updateShareLink();
      }
    }
    function redo() {
      if (historyPtr < history.length -1) {
        historyPtr++;
        state = JSON.parse(history[historyPtr]);
        render();
        persistLocal();
        updateShareLink();
      }
    }

    function persistLocal() {
      try {
        localStorage.setItem('instant_portfolio_draft', JSON.stringify(state));
      } catch {}
    }

    function loadFromURLOrLocal() {
      const hash = location.hash.slice(1);
      if (hash.startsWith('s=')) {
        const compressed = hash.slice(2);
        try {
          const raw = LZString.decompressFromEncodedURIComponent(compressed);
          if (raw) {
            const parsed = JSON.parse(raw);
            state = { ...state, ...parsed };
          }
        } catch (e) { console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å —Ä–∞–∑–∂–∞—Ç—å –∏–∑ URL', e); }
      } else {
        try {
          const saved = localStorage.getItem('instant_portfolio_draft');
          if (saved) state = JSON.parse(saved);
        } catch {}
      }
      pushHistory();
    }

    function render() {
      // title/subtitle/about
      titleEl.textContent = state.content.title;
      subtitleEl.textContent = state.content.subtitle;
      aboutEl.textContent = state.content.about;
      // projects
      projectsEl.innerHTML = '';
      state.content.projects.forEach((p, i) => {
        const card = document.createElement('div');
        card.className = 'card project-card';
        card.style.position='relative';
        card.innerHTML = `
          <div contenteditable="true" class="proj-name inline-edit" style="font-weight:600;font-size:1rem;">${escapeHtml(p.name)}</div>
          <div contenteditable="true" class="proj-desc small" style="margin-top:4px;">${escapeHtml(p.desc)}</div>
          <div style="margin-top:10px;display:flex;gap:8px;">
            <button class="btn-secondary" onclick="removeProject(${i})">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
        `;
        // —Å–ª—É—à–∞—Ç–µ–ª–∏
        card.querySelectorAll('[contenteditable]').forEach(el => {
          el.addEventListener('input', scheduleStateSave);
          el.addEventListener('blur', () => {
            applyFromDOM();
            pushHistory();
            updateShareLink();
          });
        });
        projectsEl.appendChild(card);
      });
      // contacts
      // (already inline in canvas)
      // SEO
      seoTitleEl.value = state.content.seo.title;
      seoDescEl.value = state.content.seo.description;
      // theme
      document.documentElement.style.setProperty('--primary', state.theme.accent);
      document.documentElement.style.setProperty('font-family', state.theme.font);
      colorPicker.value = state.theme.accent;
      fontSelect.value = state.theme.font;
      // animations
      if (!state.animations || window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.body.style.transition = 'none';
      }
      // template highlight
      highlightTemplateSelection();
    }

    function updateTheme() {
      state.theme.accent = colorPicker.value;
      state.theme.font = fontSelect.value;
      applyThemeToDOM();
      scheduleStateSave();
    }
    function applyThemeToDOM() {
      document.documentElement.style.setProperty('--primary', state.theme.accent);
      document.documentElement.style.setProperty('font-family', state.theme.font);
    }

    function addProject() {
      state.content.projects.push({ name: '–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç', desc: '–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞.' });
      pushHistory();
      render();
      updateShareLink();
      persistLocal();
    }

    function removeProject(idx) {
      state.content.projects.splice(idx,1);
      pushHistory();
      render();
      updateShareLink();
      persistLocal();
    }

    function selectTemplate(name) {
      state.template = name;
      // –≤–∏–∑—É–∞–ª—å–Ω–æ –≤—ã–¥–µ–ª–∏–º
      highlightTemplateSelection();
      pushHistory();
      updateShareLink();
      persistLocal();
    }

    function highlightTemplateSelection() {
      ['ux','dev','minimal'].forEach(t => {
        const el = document.getElementById('tpl-' + (t==='dev'?'dev': t));
        if (!el) return;
        if (state.template === t) el.classList.add('template-selected');
        else el.classList.remove('template-selected');
        // —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ–º toggles
        document.querySelectorAll('[data-template]').forEach(btn => {
          if (btn.getAttribute('data-template') === t) {
            btn.style.background = state.template === t ? 'rgba(37,99,235,.1)' : '';
          }
        });
      });
    }

    function updateShareLink() {
      const serialized = LZString.compressToEncodedURIComponent(JSON.stringify(state));
      const url = `${location.origin}${location.pathname}#s=${serialized}`;
      shareLinkInput.value = url;
    }

    function copyLink() {
      shareLinkInput.select();
      shareLinkInput.setSelectionRange(0, 99999);
      navigator.clipboard.writeText(shareLinkInput.value).then(() => {
        alert('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞');
      });
    }

    function createDraft() {
      // –ø—Ä–æ—Å—Ç–æ —Ñ–æ–∫—É—Å –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —É–∂–µ —Å–æ–∑–¥–∞–Ω–æ
      updateShareLink();
      titleEl.focus();
      window.scrollTo({ top: 300, behavior: 'smooth' });
    }

    function scrollToGallery() {
      document.getElementById('gallery').scrollIntoView({ behavior: 'smooth' });
    }

    function applyAnimationSettings() {
      const cb = document.getElementById('toggleAnimation');
      state.animations = cb.checked;
      pushHistory();
      updateShareLink();
    }

    function downloadStatic() {
      applyFromDOM();
      const snapshotHTML = generateStaticHTML();
      const blob = new Blob([snapshotHTML], { type: 'text/html' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'portfolio.html';
      a.click();
    }

    function generateStaticHTML() {
      // –°–æ–±–∏—Ä–∞–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ —á–∏—Å—Ç—ã–π HTML (–±–µ–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä—Å–∫–∏—Ö —Ä–∞–º–æ–∫)
      const safeTitle = escapeHtml(state.content.title);
      const safeSubtitle = escapeHtml(state.content.subtitle);
      const safeAbout = escapeHtml(state.content.about);
      const projectsHTML = state.content.projects.map(p => `
        <div style="background:#fff;border-radius:8px;padding:14px;margin-bottom:12px;box-shadow:0 20px 40px -10px rgba(31,45,58,.08);">
          <div style="font-weight:600;font-size:1rem;">${escapeHtml(p.name)}</div>
          <div style="margin-top:4px;color:#555;">${escapeHtml(p.desc)}</div>
        </div>
      `).join('');
      const contactsHTML = `
        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:8px;">
          <div style="flex:1;min-width:120px;">Email: ${escapeHtml(state.content.contacts.email || 'example@mail.com')}</div>
          <div style="flex:1;min-width:120px;">GitHub: ${escapeHtml(state.content.contacts.github || 'github.com/username')}</div>
        </div>
      `;
      const accent = state.theme.accent;
      const font = state.theme.font;
      const seoTitle = escapeHtml(state.content.seo.title || safeTitle + ' ‚Äî –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ');
      const seoDesc = escapeHtml(state.content.seo.description || safeSubtitle || '–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏');
      return `
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>${seoTitle}</title>
  <meta name="description" content="${seoDesc}" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta property="og:title" content="${seoTitle}" />
  <meta property="og:description" content="${seoDesc}" />
  <style>
    :root {
      --primary: ${accent};
      font-family: ${font};
      color:#1f2d3a;
      background:#f5f7fa;
    }
    *{box-sizing:border-box;}
    body{margin:0;padding:0;background: #f5f7fa;font-family:inherit;}
    .container{max-width:900px;margin:0 auto;padding:40px 16px;}
    h1{margin:0;font-size:2.2rem;font-weight:700;}
    h2{margin:0;font-size:1.1rem;font-weight:600;color:#555;}
    .card{background:#fff;border-radius:10px;padding:16px;box-shadow:0 30px 60px -10px rgba(31,45,58,.08);margin-bottom:16px;}
    .badge{background:var(--primary);color:#fff;padding:6px 14px;border-radius:999px;font-size:.65rem;display:inline-block;margin-bottom:8px;}
    .small{font-size:.9rem;color:#555;margin-top:6px;}
    .projects{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:8px;}
  </style>
</head>
<body>
  <div class="container">
    <div>
      <div style="margin-bottom:12px;">
        <div style="font-size:.85rem;color:#777;">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</div>
        <h1>${safeTitle}</h1>
        <div style="margin-top:4px;font-size:1rem;color:#555;">${safeSubtitle}</div>
      </div>
      <div class="card">
        <div class="badge">–û —Å–µ–±–µ</div>
        <div class="small">${safeAbout}</div>
      </div>
      <div class="card">
        <div class="badge">–ü—Ä–æ–µ–∫—Ç—ã</div>
        <div class="projects">
          ${projectsHTML}
        </div>
      </div>
      <div class="card">
        <div class="badge">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
        ${contactsHTML}
      </div>
      <div style="margin-top:40px;font-size:.8rem;color:#888;text-align:center;">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é InstantPortfolio. –ë–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.</div>
    </div>
  </div>
</body>
</html>
      `;
    }

    function escapeHtml(str) {
      return str.replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; });
    }

    // –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–æ–≤
    function filterTemplates(type) {
      document.querySelectorAll('.template-filter button').forEach(b => b.classList.remove('active'));
      document.querySelector(`.template-filter button[data-filter="${type}"]`)?.classList.add('active');
      document.querySelectorAll('#templates .template-card').forEach(card => {
        if (type === 'all') {
          card.style.display='block';
        } else {
          card.style.display = card.getAttribute('data-type') === type ? 'block' : 'none';
        }
      });
    }

    // –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑ URL –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
    window.addEventListener('load', init);
    window.addEventListener('hashchange', () => {
      loadFromURLOrLocal();
      render();
    });

  </script>
</body>
</html>
