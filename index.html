<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ, –∫–æ—Ç–æ—Ä–æ–µ –≥–æ–≤–æ—Ä–∏—Ç –∑–∞ —Ç–µ–±—è. –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ. –ë–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫." />
  <style>
    :root {
      --bg:#f5f7fa;
      --card:#ffffff;
      --radius:10px;
      --shadow:0 25px 60px -10px rgba(31,45,58,.1);
      --transition: .45s cubic-bezier(.22,.1,.36,1);
      --primary:#2563eb;
      --accent:#f59e0b;
      --text:#1f2d3a;
      --radius-sm:6px;
      --code-bg:#f1f5fb;
      --font-stack: system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
      font-family: var(--font-stack);
      color: var(--text);
      line-height:1.45;
      --ease: cubic-bezier(.22,.1,.36,1);
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      background: var(--bg);
      -webkit-font-smoothing:antialiased;
      min-height:100%;
      overflow-x:hidden;
      transition: background .4s var(--ease), color .4s var(--ease);
    }
    a{color:inherit;text-decoration:none;}
    img{max-width:100%;display:block;}
    button{cursor:pointer;border:none;background:none;font:inherit;position:relative;overflow:hidden;}
    button:focus{outline:2px solid rgba(37,99,235,.6);outline-offset:2px;}
    .container{max-width:1180px;margin:0 auto;padding:0 16px;}
    .flex{display:flex;}
    .center{display:flex;align-items:center;}
    .space-between{justify-content:space-between;}
    .gap{gap:1rem;}
    h1{margin:0;font-size:2.8rem;font-weight:700;line-height:1.1;position:relative;display:inline-block;}
    h1::after{
      content:"";
      position:absolute;
      left:0;
      bottom:-6px;
      height:4px;
      width:60px;
      background: var(--primary);
      border-radius:2px;
      transform:translateY(6px);
      transition:transform .5s var(--ease);
    }
    h1:hover::after{transform:translateY(0);}
    h2{margin:0;font-size:1.35rem;font-weight:600;}
    p{margin:0 0 1em;font-size:1rem;}
    .btn-primary{
      background:var(--primary);
      color:#fff;
      padding:.75rem 1.6rem;
      border-radius:9px;
      font-weight:700;
      display:inline-flex;
      align-items:center;
      gap:.5rem;
      position:relative;
      overflow:hidden;
      transition:transform .25s var(--ease), filter .25s;
    }
    .btn-primary:hover{transform:translateY(-2px);filter:brightness(1.07);}
    .btn-secondary{
      padding:.65rem 1.3rem;
      border-radius:8px;
      border:2px solid rgba(37,99,235,.3);
      font-weight:600;
      display:inline-flex;
      align-items:center;
      gap:.4rem;
      background:#fff;
      position:relative;
      transition:transform .25s var(--ease), box-shadow .25s;
    }
    .btn-secondary:hover{transform:translateY(-1px);box-shadow:0 18px 40px -10px rgba(37,99,235,.15);}
    .shadow{box-shadow:var(--shadow);}
    .card{
      background:var(--card);
      border-radius:14px;
      padding:1.5rem;
      position:relative;
      overflow:hidden;
      transition:transform .35s var(--ease),box-shadow .35s var(--ease);
    }
    .card:hover{transform:translateY(-4px);box-shadow:0 40px 80px -15px rgba(31,45,58,.15);}
    .pill{background:#eef2f7;border-radius:999px;padding:6px 16px;font-size:.65rem;display:inline-block;margin-right:6px;font-weight:600;}
    .badge{background:var(--primary);color:#fff;padding:7px 16px;border-radius:999px;font-size:.65rem;display:inline-block;margin-bottom:6px;font-weight:600;letter-spacing:0.5px;}
    .inline-edit{
      outline:2px dashed transparent;
      transition:all .25s var(--ease);
      min-height:1.2em;
      display:inline-block;
    }
    .inline-edit:focus{
      outline:2px dashed var(--primary);
      background:rgba(37,99,235,.05);
    }
    .small{font-size:.85rem;color:#556678;}
    .template-filter{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1rem;}
    .template-filter button{
      padding:.5rem 1rem;
      border-radius:999px;
      border:1px solid #d4d9e2;
      background:#fff;
      font-size:.75rem;
      font-weight:600;
      transition:all .25s var(--ease);
    }
    .template-filter button.active{
      background:var(--primary);
      color:#fff;
      border-color:var(--primary);
    }
    .badge-template{position:absolute;top:10px;left:10px;background:rgba(255,255,255,.95);padding:6px 14px;border-radius:8px;font-size:.65rem;font-weight:600;box-shadow:0 20px 50px -10px rgba(31,45,58,.1);}
    .nav{display:flex;gap:1rem;flex-wrap:wrap;font-size:.9rem;margin-top:6px;}
    .stepper{display:flex;gap:16px;flex-wrap:wrap;margin:2rem 0;}
    .step{flex:1;min-width:200px;display:flex;gap:14px;align-items:flex-start;opacity:0;transform:translateY(12px);transition:opacity .6s var(--ease),transform .6s var(--ease);}
    .step.visible{opacity:1;transform:translateY(0);}
    .step .circle{width:36px;height:36px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:.9rem;font-weight:700;margin-right:10px;flex-shrink:0;}
    .case{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px;margin-top:10px;}
    .case-card{background:var(--card);border-radius:14px;overflow:hidden;position:relative;display:flex;flex-direction:column;transition:transform .35s var(--ease);}
    .case-card:hover{transform:translateY(-5px);}
    .case-thumbnail{height:150px;background:linear-gradient(135deg,#eef3fb,#f9f9fe);display:flex;align-items:center;justify-content:center;font-size:.9rem;color:#556678;position:relative;font-weight:600;}
    .footer{margin-top:80px;padding:60px 0;font-size:.8rem;color:#556678;}
    .footer .row{display:flex;flex-wrap:wrap;gap:40px;}
    .footer-col{flex:1;min-width:180px;}
    .link{color:rgba(37,99,235,1);}
    .share-box{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;}
    .code{background:var(--code-bg);border-radius:6px;padding:6px 12px;font-family:monospace;font-size:.7rem;overflow-x:auto;display:inline-block;}
    .toggle{display:inline-flex;align-items:center;gap:6px;border:1px solid #d4d9e2;padding:6px 14px;border-radius:999px;font-size:.75rem;cursor:pointer;user-select:none;}
    .template-selected{outline:3px solid var(--primary);}
    .pill-sm{background:#f0f4f9;border-radius:999px;padding:5px 12px;font-size:.65rem;display:inline-block;margin-bottom:6px;}
    .indicator{position:fixed;top:12px;right:12px;background:rgba(37,99,235,.95);color:#fff;padding:8px 14px;border-radius:999px;font-size:.75rem;display:flex;align-items:center;gap:6px;box-shadow:0 30px 60px -10px rgba(31,45,58,.25);opacity:0;transform:translateY(-6px);transition:all .4s var(--ease);}
    .show{opacity:1;transform:translateY(0);}
    .theme-preset{display:inline-flex;align-items:center;gap:6px;border:1px solid #d4d9e2;border-radius:8px;padding:6px 10px;margin-right:6px;cursor:pointer;transition:all .25s var(--ease);}
    .theme-preset.selected{background:var(--primary);color:#fff;border-color:var(--primary);}
    .preview-switch{display:flex;gap:8px;margin-top:6px;}
    .preview-box{border:1px solid #d4d9e2;border-radius:8px;padding:6px;display:inline-block;font-size:14px;}
    .drag-handle{cursor:grab;margin-right:8px;font-size:1.1rem;}
    .section{background:rgba(255,255,255,1);border-radius:12px;margin-bottom:18px;position:relative;overflow:hidden;transition:transform .35s var(--ease);}
    .section-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
    .section-controls button{margin-left:6px;font-size:.9rem;padding:6px 10px;border-radius:8px;border:1px solid #d4d9e2;background:#fff;transition:all .2s var(--ease);}
    .reorder-placeholder{border:2px dashed rgba(37,99,235,.5);height:80px;margin-bottom:12px;border-radius:10px;}
    .scroll-reveal{opacity:0;transform:translateY(15px);transition:opacity .6s var(--ease),transform .6s var(--ease);}
    .reveal-visible{opacity:1;transform:translateY(0);}
    .hero-canvas{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:0;}
    .hero-inner{position:relative;z-index:1;}
    .ripple{
      position:absolute;
      border-radius:50%;
      transform:scale(0);
      pointer-events:none;
      opacity:.35;
      background: rgba(255,255,255,.6);
      animation:ripple .6s ease-out;
    }
    @keyframes ripple{
      to{transform:scale(3);opacity:0;}
    }
    @media (max-width: 1100px){
      h1{font-size:2.3rem;}
      .editor{display:block;}
      .panel{position:relative;top:0;max-height:none;margin-bottom:24px;}
    }
  </style>
</head>
<body>

  <!-- –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
  <div id="savedIndicator" class="indicator">–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ ‚úì</div>

  <!-- HEADER / HERO -->
  <header class="container" style="padding:30px 0;position:relative;z-index:2;">
    <div class="flex space-between" style="flex-wrap:wrap;">
      <div style="display:flex;align-items:center;gap:16px;flex-wrap:wrap;">
        <div style="font-weight:700;font-size:1.2rem;">InstantPortfolio</div>
        <div class="small">–ë–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –ë–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫. –°—Å—ã–ª–∫–∞ –≥–æ—Ç–æ–≤–∞ —Å—Ä–∞–∑—É.</div>
      </div>
      <div class="flex gap" style="flex-wrap:wrap;">
        <button class="btn-secondary" onclick="scrollToGallery()">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä—ã</button>
        <button class="btn-primary" id="startBtn" onclick="createDraft()">–°–æ–∑–¥–∞—Ç—å –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</button>
      </div>
    </div>
  </header>

  <section class="container" style="margin-top:5px;position:relative;">
    <!-- particle background -->
    <canvas id="particleCanvas" class="hero-canvas"></canvas>

    <div class="flex" style="gap:40px;flex-wrap:wrap;position:relative;">
      <div style="flex:1;min-width:300px;">
        <h1>–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ, –∫–æ—Ç–æ—Ä–æ–µ –≥–æ–≤–æ—Ä–∏—Ç –∑–∞ —Ç–µ–±—è. –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ.</h1>
        <p>–í—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω, –Ω–∞—Å—Ç—Ä–æ–π ‚Äî –ø–æ–¥–µ–ª–∏—Å—å. –ù–∏–∫–∞–∫–∏—Ö —Ñ–æ—Ä–º, –Ω–∏–∫–∞–∫–∏—Ö –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤.</p>
        <div class="flex gap" style="margin-top:16px;">
          <button class="btn-primary" onclick="createDraft()">–ù–∞—á–∞—Ç—å —Å–µ–π—á–∞—Å</button>
          <button class="btn-secondary" onclick="scrollToGallery()">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–∏–º–µ—Ä—ã</button>
        </div>
        <p class="small" style="margin-top:12px;">–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ –≥–æ—Å—Ç–µ–≤–æ–µ –¥—Ä–∞—Ñ—Ç-–ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ. –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –æ–¥–Ω–æ–π —Å—Å—ã–ª–∫–æ–π.</p>
        <div style="margin-top:12px;">
          <div class="small">–ü—Ä–µ—Å–µ—Ç—ã —Ç–µ–º—ã:</div>
          <div style="margin-top:6px;">
            <div class="theme-preset" data-preset='{"accent":"#2563eb","font":"system-ui,-apple-system,BlinkMacSystemFont,sans-serif"}' onclick="applyPreset(this)">
              –°–∏–Ω–∏–π + –°–∏—Å—Ç–µ–º–∞
            </div>
            <div class="theme-preset" data-preset='{"accent":"#ea4c89","font":"' + "Roboto" + ',system-ui"}' onclick="applyPreset(this)">
              –†–æ–∑–æ–≤—ã–π + Roboto
            </div>
            <div class="theme-preset" data-preset='{"accent":"#10b981","font":"' + "Segoe UI" + ',system-ui"}' onclick="applyPreset(this)">
              –ó–µ–ª–µ–Ω—ã–π + Segoe
            </div>
          </div>
        </div>
      </div>
      <div style="flex:1;min-width:280px;position:relative;">
        <!-- –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –º–∏–Ω–∏-–ø—Ä–µ–≤—å—é -->
        <div class="card shadow" style="padding:16px;overflow:hidden;">
          <div style="display:flex;gap:16px;align-items:start;">
            <div style="flex:1;">
              <div style="background:rgba(37,99,235,.08);height:14px;width:70%;border-radius:6px;margin-bottom:10px;transition:width .5s;"></div>
              <div style="background:rgba(37,99,235,.04);height:12px;width:50%;border-radius:6px;margin-bottom:14px;transition:width .5s;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#eef3fb;height:60px;flex:1;border-radius:8px;position:relative;overflow:hidden;">
                  <div style="position:absolute;top:6px;left:6px;font-size:.55rem;color:#556678;">–ü—Ä–æ–µ–∫—Ç</div>
                </div>
                <div style="background:#eef3fb;height:60px;flex:1;border-radius:8px;position:relative;overflow:hidden;">
                  <div style="position:absolute;top:6px;left:6px;font-size:.55rem;color:#556678;">–û–ø–∏—Å–∞–Ω–∏–µ</div>
                </div>
                <div style="background:#eef3fb;height:60px;flex:1;border-radius:8px;position:relative;overflow:hidden;">
                  <div style="position:absolute;top:6px;left:6px;font-size:.55rem;color:#556678;">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
                </div>
              </div>
            </div>
            <div style="width:120px;">
              <div style="background:#f0f4f9;height:120px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#556678;">Live Preview</div>
            </div>
          </div>
          <div class="badge" style="position:absolute;top:12px;right:12px;font-size:.65rem;padding:6px 14px;">–ü—Ä–∏–º–µ—Ä</div>
        </div>
      </div>
    </div>

    <!-- –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
    <div class="divider" style="margin:50px 0 20px;"></div>
    <div class="container">
      <div style="text-align:center;max-width:900px;margin:0 auto;">
        <h2 style="font-size:1.9rem;">–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
        <p class="small">–ü—Ä–æ—Å—Ç–æ–π –ø–æ—Ç–æ–∫, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç. –ë–µ–∑ –±–∞—Ä—å–µ—Ä–æ–≤.</p>
      </div>
      <div class="flex" style="margin-top:30px;gap:20px;flex-wrap:wrap;">
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:14px;align-items:start;">
            <div style="font-size:1.6rem;">‚ö°</div>
            <div>
              <div style="font-weight:600;">–ú–≥–Ω–æ–≤–µ–Ω–Ω–æ</div>
              <div class="small">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –≥–æ—Ç–æ–≤–æ –∑–∞ —Å–µ–∫—É–Ω–¥—ã ‚Äî –±–µ–∑ –ª–∏—à–Ω–∏—Ö —Ñ–æ—Ä–º.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:14px;align-items:start;">
            <div style="font-size:1.6rem;">üé®</div>
            <div>
              <div style="font-weight:600;">–ü—Ä–µ–º–∏–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω</div>
              <div class="small">–ì–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:14px;align-items:start;">
            <div style="font-size:1.6rem;">‚úèÔ∏è</div>
            <div>
              <div style="font-weight:600;">–ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å</div>
              <div class="small">Inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ç–µ–∫—Å—Ç, —Ü–≤–µ—Ç–∞, —Å–µ–∫—Ü–∏–∏ ‚Äî –≤—Å—ë –∑–¥–µ—Å—å.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:14px;align-items:start;">
            <div style="font-size:1.6rem;">üåÄ</div>
            <div>
              <div style="font-weight:600;">–ñ–∏–≤—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏</div>
              <div class="small">Scroll-reveal, hover-—ç—Ñ—Ñ–µ–∫—Ç—ã, ripple –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:14px;align-items:start;">
            <div style="font-size:1.6rem;">üîó</div>
            <div>
              <div style="font-weight:600;">–ë–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏</div>
              <div class="small">–ù–∏–∫–∞–∫–∏—Ö email, –ø–æ–¥–ø–∏—Å–æ–∫ –∏ —Å–∫—Ä—ã—Ç—ã—Ö —É—Å–ª–æ–≤–∏–π.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ì–∞–ª–µ—Ä–µ—è —à–∞–±–ª–æ–Ω–æ–≤ -->
    <div id="gallery" style="margin-top:70px;"></div>
    <div class="divider" style="margin:30px 0;"></div>
    <div class="container">
      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;">
        <div>
          <h2 style="font-size:1.9rem;">–®–∞–±–ª–æ–Ω—ã –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ</h2>
          <p class="small">–ù–∞—á–Ω–∏ —Å –≥–æ—Ç–æ–≤–æ–≥–æ: –¥–ª—è –¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–æ–≤.</p>
        </div>
        <div class="template-filter" aria-label="–§–∏–ª—å—Ç—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤">
          <button data-filter="all" class="active" onclick="filterTemplates('all')">–í—Å–µ</button>
          <button data-filter="designer" onclick="filterTemplates('designer')">–î–∏–∑–∞–π–Ω–µ—Ä</button>
          <button data-filter="developer" onclick="filterTemplates('developer')">–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</button>
          <button data-filter="minimal" onclick="filterTemplates('minimal')">–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç</button>
        </div>
      </div>
      <div id="templates" class="flex" style="flex-wrap:wrap;gap:16px;margin-top:12px;">
        <!-- —à–∞–±–ª–æ–Ω—ã –ø–æ—Ö–æ–∂–∏ –Ω–∞ –ø—Ä–µ–∂–Ω–∏–µ (UX / Dev / Minimal) -->
        <div class="card template-card" data-type="designer" onclick="selectTemplate('ux')" id="tpl-ux" style="flex:1;min-width:260px;max-width:320px;">
          <div class="badge-template">–õ—É—á—à–µ –≤—Å–µ–≥–æ –¥–ª—è UX-–¥–∏–∑–∞–π–Ω–µ—Ä–æ–≤</div>
          <div class="template-thumb">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:600;">UX Designer</div>
              <div class="pill-sm">–í–¥–æ—Ö–Ω–æ–≤–ª—è—é—â–µ</div>
            </div>
            <div style="margin-top:8px;">
              <div style="background:rgba(37,99,235,.08);height:10px;width:60%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="background:rgba(37,99,235,.04);height:8px;width:40%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#eef3fb;height:45px;flex:1;border-radius:5px;"></div>
                <div style="background:#eef3fb;height:45px;flex:1;border-radius:5px;"></div>
              </div>
            </div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center;">
              <div class="small">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ</div>
              <div><button class="btn-secondary" onclick="event.stopPropagation(); selectTemplate('ux'); createDraft();">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å</button></div>
            </div>
          </div>
        </div>

        <div class="card template-card" data-type="developer" onclick="selectTemplate('dev')" id="tpl-dev" style="flex:1;min-width:260px;max-width:320px;">
          <div class="badge-template">–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏</div>
          <div class="template-thumb">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:600;">Frontend Engineer</div>
              <div class="pill-sm">–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏</div>
            </div>
            <div style="margin-top:8px;">
              <div style="background:rgba(16,185,129,.08);height:10px;width:50%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="background:rgba(16,185,129,.04);height:8px;width:70%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#e7f5ec;height:40px;flex:1;border-radius:5px;"></div>
                <div style="background:#e7f5ec;height:40px;flex:1;border-radius:5px;"></div>
              </div>
            </div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center;">
              <div class="small">–ü—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–µ</div>
              <div><button class="btn-secondary" onclick="event.stopPropagation(); selectTemplate('dev'); createDraft();">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å</button></div>
            </div>
          </div>
        </div>

        <div class="card template-card" data-type="minimal" onclick="selectTemplate('minimal')" id="tpl-minimal" style="flex:1;min-width:260px;max-width:320px;">
          <div class="badge-template">–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ —Ä–µ–∑—é–º–µ</div>
          <div class="template-thumb">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:600;">Minimal Resume</div>
              <div class="pill-sm">–ß–∏—Å—Ç–æ</div>
            </div>
            <div style="margin-top:8px;">
              <div style="background:#f9f9f9;border:1px solid #ddd;height:10px;width:55%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="background:#f9f9f9;border:1px solid #ddd;height:8px;width:45%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#f9f9f9;border:1px solid #ddd;height:40px;flex:1;border-radius:5px;"></div>
                <div style="background:#f9f9f9;border:1px solid #ddd;height:40px;flex:1;border-radius:5px;"></div>
              </div>
            </div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center;">
              <div class="small">–õ–∞–∫–æ–Ω–∏—á–Ω–æ</div>
              <div><button class="btn-secondary" onclick="event.stopPropagation(); selectTemplate('minimal'); createDraft();">–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å</button></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç -->
    <div class="divider" style="margin:60px 0 10px;"></div>
    <div class="container">
      <div style="text-align:center;max-width:800px;margin:0 auto;">
        <h2 style="font-size:1.9rem;">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h2>
        <p class="small">–¢—Ä–∏ —à–∞–≥–∞ –¥–æ –∂–∏–≤–æ–π —Å—Å—ã–ª–∫–∏.</p>
      </div>
      <div class="stepper" id="stepsWrapper">
        <div class="step">
          <div class="circle">1</div>
          <div>
            <div style="font-weight:600;">–í—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω</div>
            <div class="small">–ù–∞–∂–º–∏, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Å –≥–æ—Ç–æ–≤–æ–≥–æ —Å—Ç–∏–ª—è.</div>
          </div>
        </div>
        <div class="step">
          <div class="circle">2</div>
          <div>
            <div style="font-weight:600;">–ù–∞—Å—Ç—Ä–æ–π</div>
            <div class="small">–ö–ª–∏–∫–Ω–∏ –ø–æ —Ç–µ–∫—Å—Ç—É –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∞–º, —á—Ç–æ–±—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å inline.</div>
          </div>
        </div>
        <div class="step">
          <div class="circle">3</div>
          <div>
            <div style="font-weight:600;">–ü–æ–¥–µ–ª–∏—Å—å</div>
            <div class="small">–°–∫–æ–ø–∏—Ä—É–π —Å—Å—ã–ª–∫—É ‚Äî –æ–Ω–∞ —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.</div>
          </div>
        </div>
      </div>
    </div>

    <!-- –†–µ–¥–∞–∫—Ç–æ—Ä -->
    <div class="divider" style="margin:50px 0;"></div>
    <div class="container">
      <div class="editor" aria-label="–†–µ–¥–∞–∫—Ç–æ—Ä –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ">
        <!-- –ª–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="panel" style="flex:1;">
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <div>
              <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h3>
              <div class="small">–ì–æ—Å—Ç–µ–≤–æ–π –¥—Ä–∞—Ñ—Ç ‚Äî –≤—Å—ë —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</div>
            </div>
            <div style="display:flex;gap:6px;">
              <button class="btn-secondary" onclick="undo()">‚Ü∫</button>
              <button class="btn-secondary" onclick="redo()">‚Üª</button>
            </div>
          </div>

          <div style="margin-top:18px;">
            <div class="small">–®–∞–±–ª–æ–Ω</div>
            <div style="display:flex;gap:8px;margin-top:8px;flex-wrap:wrap;">
              <div class="toggle" data-template="ux" onclick="selectTemplate('ux')">UX Designer</div>
              <div class="toggle" data-template="dev" onclick="selectTemplate('dev')">Developer</div>
              <div class="toggle" data-template="minimal" onclick="selectTemplate('minimal')">Minimal</div>
            </div>
          </div>

          <div style="margin-top:18px;">
            <div class="small">–¢–µ–º–∞</div>
            <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:6px;">
              <div>
                <div class="small">–¶–≤–µ—Ç –∞–∫—Ü–µ–Ω—Ç–∞</div>
                <input type="color" id="colorPicker" value="#2563eb" onchange="updateTheme()" aria-label="–í—ã–±–æ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞" />
              </div>
              <div>
                <div class="small">–®—Ä–∏—Ñ—Ç</div>
                <select id="fontSelect" onchange="updateTheme()" aria-label="–í—ã–±–æ—Ä —à—Ä–∏—Ñ—Ç–∞">
                  <option value="system-ui,-apple-system,BlinkMacSystemFont,sans-serif">–°–∏—Å—Ç–µ–º–∞</option>
                  <option value="'Segoe UI', system-ui,-apple-system">Segoe UI</option>
                  <option value="'Roboto', system-ui,-apple-system">Roboto</option>
                  <option value="'Open Sans', system-ui,-apple-system">Open Sans</option>
                </select>
              </div>
            </div>
          </div>

          <div style="margin-top:18px;">
            <div class="small">–ê–Ω–∏–º–∞—Ü–∏–∏</div>
            <div style="margin-top:6px;display:flex;gap:10px;flex-wrap:wrap;">
              <label style="display:flex;align-items:center;gap:6px;"><input type="checkbox" id="toggleAnimation" checked onchange="applyAnimationSettings()"> –í–∫–ª—é—á–µ–Ω—ã</label>
              <div>
                <div class="small">Easing</div>
                <select id="easingSelect" onchange="updateEasing()" aria-label="–í—ã–±–æ—Ä easing">
                  <option value="cubic-bezier(.22,.1,.36,1)">–°—Ç–∞–Ω–¥–∞—Ä—Ç</option>
                  <option value="cubic-bezier(.4,0,.2,1)">–õ—ë–≥–∫–∏–π</option>
                  <option value="cubic-bezier(.25,.46,.45,.94)">–ü–ª–∞–≤–Ω—ã–π</option>
                  <option value="linear">–õ–∏–Ω–µ–π–Ω—ã–π</option>
                </select>
              </div>
            </div>
            <div class="micro">Scroll-reveal –∏ –º–∏–∫—Ä–æ–∞–Ω–∏–º–∞—Ü–∏–∏ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ–¥ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.</div>
          </div>

          <div style="margin-top:18px;">
            <div class="small">–®–∞—Ä–∏–Ω–≥</div>
            <div class="share-box">
              <input type="text" id="shareLink" readonly style="flex:1;padding:10px;border:1px solid #d4d9e2;border-radius:8px;font-size:.9rem;" aria-label="–°—Å—ã–ª–∫–∞ –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞" />
              <button class="btn-primary" onclick="copyLink()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
            <div class="small">–°—Å—ã–ª–∫–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ. –õ—é–±–æ–π –º–æ–∂–µ—Ç –æ—Ç–∫—Ä—ã—Ç—å –∏ —É–≤–∏–¥–µ—Ç—å –∫–∞–∫ –ø–æ—Å–µ—Ç–∏—Ç–µ–ª—å.</div>
          </div>

          <div style="margin-top:18px;">
            <div class="small">–≠–∫—Å–ø–æ—Ä—Ç</div>
            <div style="margin-top:6px;">
              <button class="btn-secondary" onclick="downloadStatic()">–°–∫–∞—á–∞—Ç—å –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ</button>
            </div>
            <div class="micro">–ü–æ–ª—É—á–∞–µ—à—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π <code class="code">index.html</code> —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏.</div>
          </div>
        </div>

        <!-- canvas -->
        <div class="panel" style="flex:2;" aria-label="Canvas —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞">
          <div style="display:flex;justify-content:space-between;align-items:start;flex-wrap:wrap;gap:12px;">
            <div style="flex:1;min-width:220px;">
              <div contenteditable="true" class="inline-edit" id="title" style="font-size:2rem;font-weight:700;">–ò–º—è –§–∞–º–∏–ª–∏—è</div>
              <div contenteditable="true" class="inline-edit small" id="subtitle" style="margin-top:4px;">Frontend-–∏–Ω–∂–µ–Ω–µ—Ä, —Å–æ–∑–¥–∞—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</div>
            </div>
            <div style="display:flex;gap:10px;flex-wrap:wrap;">
              <div class="pill-sm">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</div>
              <div class="pill-sm">–ü—Ä–æ—Å–º–æ—Ç—Ä</div>
            </div>
          </div>

          <!-- —Å–µ–∫—Ü–∏–∏ —Å drag & drop -->
          <div id="sectionsWrapper" style="margin-top:30px;">
            <!-- –û —Å–µ–±–µ -->
            <div class="section" data-key="about">
              <div class="section-header">
                <div style="display:flex;align-items:center;gap:8px;">
                  <div class="drag-handle">‚ò∞</div>
                  <div>
                    <div style="font-weight:600;">–û —Å–µ–±–µ</div>
                    <div class="small">–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–±—è.</div>
                  </div>
                </div>
                <div class="section-controls">
                  <button onclick="removeSection('about')">–£–¥–∞–ª–∏—Ç—å</button>
                  <button onclick="duplicateSection('about')">–î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
              </div>
              <div contenteditable="true" class="inline-edit" id="about" style="padding:14px;border:1px solid rgba(212,217,226,.9);border-radius:8px;">–ü—Ä–∏–≤–µ—Ç! –Ø —Å–æ–∑–¥–∞—é –±—ã—Å—Ç—Ä—ã–µ –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –±–µ–∑ –ª–∏—à–Ω–∏—Ö —É—Å–∏–ª–∏–π. –ò—Å–ø–æ–ª—å–∑—É—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –∏ –¥–µ–ª–∞—é –≤—Å—ë –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ.</div>
            </div>

            <!-- –ü—Ä–æ–µ–∫—Ç—ã -->
            <div class="section" data-key="projects">
              <div class="section-header">
                <div style="display:flex;align-items:center;gap:8px;">
                  <div class="drag-handle">‚ò∞</div>
                  <div>
                    <div style="font-weight:600;">–ü—Ä–æ–µ–∫—Ç—ã</div>
                    <div class="small">–ü–æ–∫–∞–∂–∏, —á—Ç–æ —Å–¥–µ–ª–∞–ª.</div>
                  </div>
                </div>
                <div class="section-controls">
                  <button onclick="removeSection('projects')">–£–¥–∞–ª–∏—Ç—å</button>
                  <button onclick="duplicateSection('projects')">–î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
              </div>
              <div id="projects" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:10px;"></div>
              <div style="margin-top:12px;">
                <button class="btn-secondary" onclick="addProject()">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</button>
              </div>
            </div>

            <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
            <div class="section" data-key="contacts">
              <div class="section-header">
                <div style="display:flex;align-items:center;gap:8px;">
                  <div class="drag-handle">‚ò∞</div>
                  <div>
                    <div style="font-weight:600;">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
                    <div class="small">–ì–¥–µ —Ç–µ–±—è –Ω–∞–π—Ç–∏.</div>
                  </div>
                </div>
                <div class="section-controls">
                  <button onclick="removeSection('contacts')">–£–¥–∞–ª–∏—Ç—å</button>
                  <button onclick="duplicateSection('contacts')">–î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å</button>
                </div>
              </div>
              <div style="display:flex;gap:16px;flex-wrap:wrap;margin-top:8px;">
                <div contenteditable="true" class="inline-edit" style="padding:10px;border:1px solid #dce2f0;border-radius:6px;flex:1;min-width:130px;" id="contactEmail">Email: example@mail.com</div>
                <div contenteditable="true" class="inline-edit" style="padding:10px;border:1px solid #dce2f0;border-radius:6px;flex:1;min-width:130px;" id="contactGithub">GitHub: github.com/username</div>
              </div>
            </div>
          </div>

          <div style="margin-top:20px;">
            <button class="btn-secondary" onclick="addSection()">+ –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é</button>
            <div class="small" style="margin-top:6px;">–ú–æ–∂–Ω–æ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è—Ç—å —Å–µ–∫—Ü–∏–∏ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ–º –∑–∞ ‚ò∞, –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å, —É–¥–∞–ª—è—Ç—å.</div>
          </div>
        </div>

        <!-- –ø—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="panel" style="flex:1;">
          <div>
            <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
          </div>
          <div style="margin-top:14px;">
            <div class="small">SEO & –ø—Ä–µ–≤—å—é</div>
            <div style="margin-top:8px;">
              <div class="small">Title</div>
              <input type="text" id="seoTitle" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ –¥–ª—è –ø–æ–∏—Å–∫–∞" style="width:100%;padding:8px;border:1px solid #d4d9e2;border-radius:6px;margin-top:4px;" />
              <div class="small" style="margin-top:10px;">Description</div>
              <textarea id="seoDesc" rows="2" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞" style="width:100%;padding:8px;border:1px solid #d4d9e2;border-radius:6px;margin-top:4px;"></textarea>
            </div>
          </div>
          <div style="margin-top:20px;">
            <div class="small">–ü—Ä–µ–≤—å—é</div>
            <div class="preview-switch">
              <div class="preview-box">üì± –ú–æ–±–∏–ª—å–Ω–æ–µ</div>
              <div class="preview-box">üñ•Ô∏è –î–µ—Å–∫—Ç–æ–ø</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ö–µ–π—Å—ã -->
    <div class="divider" style="margin:60px 0;"></div>
    <div class="container">
      <div style="text-align:center;max-width:800px;margin:0 auto;">
        <h2 style="font-size:1.9rem;">–ñ–∏–≤—ã–µ –∫–µ–π—Å—ã</h2>
        <p class="small">–ü—Ä–∏–º–µ—Ä—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –¥–µ–ª—è—Ç—Å—è —Å–≤–æ–∏–º–∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ.</p>
      </div>
      <div class="case">
        <div class="case-card">
          <div class="case-thumbnail">
            –§—Ä–∏–ª–∞–Ω—Å-–¥–∏–∑–∞–π–Ω–µ—Ä ‚Äî —Ä–µ–∑—é–º–µ –∏ –ø—Ä–æ–µ–∫—Ç—ã
          </div>
          <div style="padding:16px;">
            <div style="font-weight:600;">Anna Ivanova</div>
            <div class="small" style="margin-top:4px;">UX/UI designer. –ü—Ä–∏–º–µ—Ä—ã —Ä–µ–¥–∏–∑–∞–π–Ω–∞.</div>
            <div style="margin-top:12px;">
              <button class="btn-secondary" onclick="alert('–û—Ç–∫—Ä—ã—Ç—å –∂–∏–≤–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ')">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
          </div>
        </div>
        <div class="case-card">
          <div class="case-thumbnail">
            Frontend-–∏–Ω–∂–µ–Ω–µ—Ä ‚Äî –ø—Ä–æ–µ–∫—Ç—ã –∏ –±–ª–æ–≥
          </div>
          <div style="padding:16px;">
            <div style="font-weight:600;">Ivan Petrov</div>
            <div class="small" style="margin-top:4px;">React / Vanilla JS. –ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –∫–µ–π—Å—ã.</div>
            <div style="margin-top:12px;">
              <button class="btn-secondary" onclick="alert('–û—Ç–∫—Ä—ã—Ç—å –∂–∏–≤–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ')">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
          </div>
        </div>
        <div class="case-card">
          <div class="case-thumbnail">
            –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–µ —Ä–µ–∑—é–º–µ
          </div>
          <div style="padding:16px;">
            <div style="font-weight:600;">Maria S.</div>
            <div class="small" style="margin-top:4px;">–ö—Ä–∞—Ç–∫–æ–µ, —á–∏—Å—Ç–æ–µ, —ç—Ñ—Ñ–µ–∫—Ç–Ω–æ–µ.</div>
            <div style="margin-top:12px;">
              <button class="btn-secondary" onclick="alert('–û—Ç–∫—Ä—ã—Ç—å –∂–∏–≤–æ–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ')">–û—Ç–∫—Ä—ã—Ç—å</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- –ë–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫ / –¥–æ–≤–µ—Ä–∏–µ -->
    <div class="divider" style="margin:60px 0;"></div>
    <div class="container" style="padding:40px 0;">
      <div class="card" style="display:flex;gap:30px;flex-wrap:wrap;">
        <div style="flex:1;min-width:220px;">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px;">
            <div style="font-size:1.8rem;">üõ°Ô∏è</div>
            <div>
              <div style="font-weight:700;">–ë–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫</div>
              <div class="small">–¢—ã —Å–æ–∑–¥–∞—ë—à—å ‚Äî –∏ —Å—Ä–∞–∑—É –ø–æ–ª—É—á–∞–µ—à—å —Å—Å—ã–ª–∫—É. –ù–∏–∫–∞–∫–∏—Ö email, –ø–ª–∞—Ç—ë–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.</div>
            </div>
          </div>
          <div class="small">–°–æ—Ö—Ä–∞–Ω—è–π –ª–æ–∫–∞–ª—å–Ω–æ, –¥–µ–ª–∏—Å—å –ø—É–±–ª–∏—á–Ω–æ. –ë–µ–∑ —Å–ø–∞–º–∞. –ë–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤.</div>
        </div>
        <div style="flex:1;min-width:220px;">
          <div class="small">–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º:</div>
          <ul style="padding-left:18px;margin-top:6px;">
            <li>–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ</li>
            <li>–°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ —Å—Å—ã–ª–∫—É</li>
            <li>Inline-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –º–æ–¥–∞–ª–æ–∫</li>
            <li>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã, SEO –∏ —à–∞—Ä–∏–Ω–≥</li>
            <li>–≠–∫—Å–ø–æ—Ä—Ç –≤ —á–∏—Å—Ç—ã–π HTML –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
      <div class="container">
        <div class="row">
          <div class="footer-col">
            <div style="font-weight:700;margin-bottom:6px;">InstantPortfolio</div>
            <div class="small">–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ ‚Äî –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏, –±–µ–∑ –ø–æ–¥–ø–∏—Å–æ–∫.</div>
          </div>
          <div class="footer-col">
            <div style="font-weight:600;margin-bottom:6px;">–ù–∞–≤–∏–≥–∞—Ü–∏—è</div>
            <div><a class="link" href="#gallery">–®–∞–±–ª–æ–Ω—ã</a></div>
            <div><a class="link" href="#about">–û –ø—Ä–æ–¥—É–∫—Ç–µ</a></div>
            <div><a class="link" href="javascript:void(0)">FAQ</a></div>
            <div><a class="link" href="javascript:void(0)">–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å</a></div>
          </div>
          <div class="footer-col">
            <div style="font-weight:600;margin-bottom:6px;">–ü—Ä–∞–≤–æ</div>
            <div><a class="link" href="javascript:void(0)">–ü–æ–ª–∏—Ç–∏–∫–∞ –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏</a></div>
            <div><a class="link" href="javascript:void(0)">–£—Å–ª–æ–≤–∏—è</a></div>
          </div>
          <div class="footer-col">
            <div style="font-weight:600;margin-bottom:6px;">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
            <div class="small">support@instantportfolio.example</div>
          </div>
        </div>
        <div style="margin-top:30px;text-align:center;">
          <div class="small">&copy; <span id="footerYear"></span> InstantPortfolio. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- LZ-STRING (—Å–∂–∞—Ç–∏–µ/–¥–µ–∫–æ–º–ø—Ä–µ—Å—Å–∏—è) -->
  <script>
    // –£–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è lz-string (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏) ‚Äî –∏—Å—Ö–æ–¥–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–∞
    const LZString = (function(){
      function compressToEncodedURIComponent(input) {
        return encodeURIComponent(btoa(unescape(encodeURIComponent(input))));
      }
      function decompressFromEncodedURIComponent(input) {
        try {
          return decodeURIComponent(escape(atob(decodeURIComponent(input))));
        } catch { return null; }
      }
      return { compressToEncodedURIComponent, decompressFromEncodedURIComponent };
    })();
  </script>

  <!-- –õ–æ–≥–∏–∫–∞ -->
  <script>
    // –≥–ª–æ–±–∞–ª—å–Ω—ã–π state
    let state = {
      template: 'ux',
      theme: { accent: '#2563eb', font: 'system-ui,-apple-system,BlinkMacSystemFont,sans-serif' },
      content: {
        title: '–ò–º—è –§–∞–º–∏–ª–∏—è',
        subtitle: 'Frontend-–∏–Ω–∂–µ–Ω–µ—Ä, —Å–æ–∑–¥–∞—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã',
        about: '–ü—Ä–∏–≤–µ—Ç! –Ø —Å–æ–∑–¥–∞—é –±—ã—Å—Ç—Ä—ã–µ –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ –±–µ–∑ –ª–∏—à–Ω–∏—Ö —É—Å–∏–ª–∏–π. –ò—Å–ø–æ–ª—å–∑—É—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –∏ –¥–µ–ª–∞—é –≤—Å—ë –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ.',
        projects: [
          { name: '–ü—Ä–æ–µ–∫—Ç A', desc: '–û–ø–∏—Å–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.' },
          { name: '–ü—Ä–æ–µ–∫—Ç B', desc: '–û–ø–∏—Å–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞.' }
        ],
        contacts: { email: 'example@mail.com', github: 'github.com/username' },
        seo: { title: '', description: '' }
      },
      animations: true,
      easing: 'cubic-bezier(.22,.1,.36,1)',
      sections: ['about','projects','contacts']
    };

    const MAX_HISTORY=40;
    let history=[], historyPtr=-1;
    let saveTimer=null;

    // —ç–ª–µ–º–µ–Ω—Ç—ã
    const titleEl=document.getElementById('title');
    const subtitleEl=document.getElementById('subtitle');
    const aboutEl=document.getElementById('about');
    const projectsEl=document.getElementById('projects');
    const shareLinkInput=document.getElementById('shareLink');
    const colorPicker=document.getElementById('colorPicker');
    const fontSelect=document.getElementById('fontSelect');
    const seoTitleEl=document.getElementById('seoTitle');
    const seoDescEl=document.getElementById('seoDesc');
    const indicator=document.getElementById('savedIndicator');
    const footerYear=document.getElementById('footerYear');
    const easingSelect=document.getElementById('easingSelect');
    const toggleAnimation=document.getElementById('toggleAnimation');

    // init
    function init(){
      footerYear.textContent=new Date().getFullYear();
      bindInline([titleEl, subtitleEl, aboutEl]);
      bindInlineProjects();
      bindContacts();
      seoTitleEl.addEventListener('input', scheduleSave);
      seoDescEl.addEventListener('input', scheduleSave);
      colorPicker.addEventListener('input', updateTheme);
      fontSelect.addEventListener('change', updateTheme);
      easingSelect.addEventListener('change', updateEasing);
      toggleAnimation.addEventListener('change', applyAnimationSettings);
      loadState();
      render();
      revealSteps();
      initDragSections();
      initScrollReveal();
      initParticles();
    }

    function bindInline(arr){
      arr.forEach(el=>{
        el.addEventListener('input', scheduleSave);
        el.addEventListener('blur', applyFromDOM);
      });
    }

    function bindInlineProjects(){
      // projects rendered in render()
    }

    function bindContacts(){
      document.getElementById('contactEmail')?.addEventListener('input', scheduleSave);
      document.getElementById('contactGithub')?.addEventListener('input', scheduleSave);
    }

    function scheduleSave(){
      if(saveTimer) clearTimeout(saveTimer);
      saveTimer=setTimeout(()=>{
        applyFromDOM();
        pushHistory();
        persist();
        updateShareLink();
        showSaved();
      }, 250);
    }
    function showSaved(){
      indicator.classList.add('show');
      setTimeout(()=>indicator.classList.remove('show'),1200);
    }

    function applyFromDOM(){
      state.content.title=titleEl.textContent.trim()||'–ò–º—è –§–∞–º–∏–ª–∏—è';
      state.content.subtitle=subtitleEl.textContent.trim()||'Frontend-–∏–Ω–∂–µ–Ω–µ—Ä, —Å–æ–∑–¥–∞—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã';
      state.content.about=aboutEl.textContent.trim();
      // projects
      const projectCards=Array.from(document.querySelectorAll('.project-card'));
      if(projectCards.length){
        state.content.projects=projectCards.map(card=>{
          const name=card.querySelector('.proj-name')?.textContent.trim()||'–ü—Ä–æ–µ–∫—Ç';
          const desc=card.querySelector('.proj-desc')?.textContent.trim()||'–û–ø–∏—Å–∞–Ω–∏–µ';
          return { name, desc };
        });
      }
      // contacts
      const emailRaw=document.getElementById('contactEmail')?.textContent.trim();
      const githubRaw=document.getElementById('contactGithub')?.textContent.trim();
      if(emailRaw) state.content.contacts.email=emailRaw.replace(/^Email:\s*/i,'');
      if(githubRaw) state.content.contacts.github=githubRaw.replace(/^GitHub:\s*/i,'');
      // SEO
      state.content.seo.title=seoTitleEl.value;
      state.content.seo.description=seoDescEl.value;
    }

    function pushHistory(){
      const snap=JSON.stringify(state);
      if(historyPtr>=0 && history[historyPtr]===snap) return;
      history=history.slice(0,historyPtr+1);
      history.push(snap);
      if(history.length>MAX_HISTORY) history.shift();
      historyPtr=history.length-1;
    }
    function undo(){ if(historyPtr>0){ historyPtr--; state=JSON.parse(history[historyPtr]); render(); persist(); updateShareLink(); } }
    function redo(){ if(historyPtr<history.length-1){ historyPtr++; state=JSON.parse(history[historyPtr]); render(); persist(); updateShareLink(); } }

    function persist(){
      try{ localStorage.setItem('instant_portfolio_draft', JSON.stringify(state)); }catch{}
    }

    function loadState(){
      const hash=location.hash.slice(1);
      if(hash.startsWith('s=')){
        const compressed=hash.slice(2);
        try{
          const raw=LZString.decompressFromEncodedURIComponent(compressed);
          if(raw) state=JSON.parse(raw);
        }catch{}
      }else{
        try{
          const saved=localStorage.getItem('instant_portfolio_draft');
          if(saved) state=JSON.parse(saved);
        }catch{}
      }
      pushHistory();
    }

    function render(){
      // basic
      titleEl.textContent=state.content.title;
      subtitleEl.textContent=state.content.subtitle;
      aboutEl.textContent=state.content.about;
      seoTitleEl.value=state.content.seo.title;
      seoDescEl.value=state.content.seo.description;
      // theme
      document.documentElement.style.setProperty('--primary', state.theme.accent);
      document.documentElement.style.setProperty('--font-stack', state.theme.font);
      document.documentElement.style.setProperty('--ease', state.easing);
      colorPicker.value=state.theme.accent;
      fontSelect.value=state.theme.font;
      easingSelect.value=state.easing;
      toggleAnimation.checked=state.animations;
      // projects area
      renderProjects();
      // contacts
      document.getElementById('contactEmail').textContent = 'Email: ' + (state.content.contacts.email||'example@mail.com');
      document.getElementById('contactGithub').textContent = 'GitHub: ' + (state.content.contacts.github||'github.com/username');
      highlightTemplateSelection();
      updateShareLink();
    }

    function renderProjects(){
      projectsEl.innerHTML='';
      state.content.projects.forEach((p,i)=>{
        const card=document.createElement('div');
        card.className='card project-card';
        card.style.position='relative';
        card.innerHTML=`
          <div contenteditable="true" class="proj-name inline-edit" style="font-weight:600;font-size:1rem;">${escapeHtml(p.name)}</div>
          <div contenteditable="true" class="proj-desc small" style="margin-top:4px;">${escapeHtml(p.desc)}</div>
          <div style="margin-top:10px;display:flex;gap:8px;">
            <button class="btn-secondary" onclick="removeProject(${i})">–£–¥–∞–ª–∏—Ç—å</button>
          </div>
        `;
        card.querySelectorAll('[contenteditable]').forEach(el=>{
          el.addEventListener('input', scheduleSave);
          el.addEventListener('blur', ()=>{ applyFromDOM(); pushHistory(); updateShareLink(); });
        });
        projectsEl.appendChild(card);
      });
    }

    function escapeHtml(str){
      return str.replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    }

    function updateTheme(){
      state.theme.accent=colorPicker.value;
      state.theme.font=fontSelect.value;
      applyTheme();
      scheduleSave();
    }
    function applyTheme(){
      document.documentElement.style.setProperty('--primary', state.theme.accent);
      document.documentElement.style.setProperty('--font-stack', state.theme.font);
    }
    function applyPreset(el){
      const preset=JSON.parse(el.getAttribute('data-preset'));
      state.theme.accent=preset.accent;
      state.theme.font=preset.font;
      document.querySelectorAll('.theme-preset').forEach(p=>p.classList.remove('selected'));
      el.classList.add('selected');
      applyTheme();
      scheduleSave();
    }

    function selectTemplate(name){
      state.template=name;
      highlightTemplateSelection();
      scheduleSave();
    }
    function highlightTemplateSelection(){
      ['ux','dev','minimal'].forEach(t=>{
        const el=document.getElementById('tpl-' + (t==='dev'? 'dev': t));
        if(!el) return;
        if(state.template===t) el.classList.add('template-selected');
        else el.classList.remove('template-selected');
        document.querySelectorAll(`[data-template="${t}"]`).forEach(btn=>{
          btn.style.background = state.template===t ? 'rgba(37,99,235,.1)' : '';
        });
      });
    }

    function addProject(){
      state.content.projects.push({ name:'–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç', desc:'–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞.' });
      pushHistory();
      render();
      persist();
      updateShareLink();
    }
    function removeProject(i){
      state.content.projects.splice(i,1);
      pushHistory();
      render();
      persist();
      updateShareLink();
    }

    function updateShareLink(){
      const serial=LZString.compressToEncodedURIComponent(JSON.stringify(state));
      const url=`${location.origin}${location.pathname}#s=${serial}`;
      shareLinkInput.value=url;
    }
    function copyLink(){
      shareLinkInput.select();
      shareLinkInput.setSelectionRange(0,99999);
      navigator.clipboard.writeText(shareLinkInput.value).then(()=>{ alert('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞'); });
    }

    function createDraft(){
      updateShareLink();
      titleEl.focus();
      window.scrollTo({ top: 300, behavior:'smooth' });
    }
    function scrollToGallery(){
      document.getElementById('gallery').scrollIntoView({behavior:'smooth'});
    }
    function applyAnimationSettings(){
      state.animations = toggleAnimation.checked;
      scheduleSave();
    }
    function updateEasing(){ state.easing=easingSelect.value; scheduleSave(); }

    // —Å–µ–∫—Ü–∏–∏
    function addSection(){
      const key=prompt('–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å–µ–∫—Ü–∏–∏ (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ, –ª–∞—Ç–∏–Ω–∏—Ü–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä "skills")')?.trim();
      if(!key) return;
      if(state.sections.includes(key)){ alert('–¢–∞–∫–∞—è —É–∂–µ –µ—Å—Ç—å'); return;}
      state.sections.push(key);
      // –≤—Å—Ç–∞–≤–∏–º –±–∞–∑–æ–≤—É—é –ø—É—Å—Ç—É—é —Å–µ–∫—Ü–∏—é
      const wrapper=document.getElementById('sectionsWrapper');
      const newSection=document.createElement('div');
      newSection.className='section';
      newSection.setAttribute('data-key',key);
      newSection.innerHTML=`
        <div class="section-header">
          <div style="display:flex;align-items:center;gap:8px;">
            <div class="drag-handle">‚ò∞</div>
            <div>
              <div style="font-weight:600;">${key}</div>
              <div class="small">–ù–æ–≤–∞—è —Å–µ–∫—Ü–∏—è</div>
            </div>
          </div>
          <div class="section-controls">
            <button onclick="removeSection('${key}')">–£–¥–∞–ª–∏—Ç—å</button>
            <button onclick="duplicateSection('${key}')">–î—É–±–ª–∏—Ä–æ–≤–∞—Ç—å</button>
          </div>
        </div>
        <div contenteditable="true" class="inline-edit" style="padding:14px;border:1px solid rgba(212,217,226,.9);border-radius:8px;">–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–µ–∫—Ü–∏–∏ ${key}</div>
      `;
      wrapper.appendChild(newSection);
      initDragSections();
      scheduleSave();
    }
    function removeSection(key){
      if(!confirm('–£–¥–∞–ª–∏—Ç—å —Å–µ–∫—Ü–∏—é?')) return;
      const idx=state.sections.indexOf(key);
      if(idx!==-1) state.sections.splice(idx,1);
      const el=document.querySelector(`.section[data-key="${key}"]`);
      el?.remove();
      scheduleSave();
    }
    function duplicateSection(key){
      const source=document.querySelector(`.section[data-key="${key}"]`);
      if(!source) return;
      const clone=source.cloneNode(true);
      const newKey=key + '_copy_' + Math.floor(Math.random()*100);
      clone.setAttribute('data-key', newKey);
      clone.querySelector('.section-header div:first-child div').textContent = newKey;
      document.getElementById('sectionsWrapper').appendChild(clone);
      state.sections.push(newKey);
      initDragSections();
      scheduleSave();
    }

    // —ç–∫—Å–ø–æ—Ä—Ç
    function downloadStatic(){
      applyFromDOM();
      const html=generateStaticHTML();
      const blob=new Blob([html],{type:'text/html'});
      const a=document.createElement('a');
      a.href=URL.createObjectURL(blob);
      a.download='portfolio.html';
      a.click();
    }

    function generateStaticHTML(){
      const safeTitle=escapeHtml(state.content.title);
      const safeSubtitle=escapeHtml(state.content.subtitle);
      const safeAbout=escapeHtml(state.content.about);
      const accent=state.theme.accent;
      const font=state.theme.font;
      const seoTitle=escapeHtml(state.content.seo.title || safeTitle + ' ‚Äî –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ');
      const seoDesc=escapeHtml(state.content.seo.description || safeSubtitle || '–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏');
      const projectsHTML=state.content.projects.map(p=>`
        <div style="background:#fff;border-radius:8px;padding:14px;margin-bottom:12px;box-shadow:0 20px 40px -10px rgba(31,45,58,.08);">
          <div style="font-weight:600;font-size:1rem;">${escapeHtml(p.name)}</div>
          <div style="margin-top:4px;color:#555;">${escapeHtml(p.desc)}</div>
        </div>
      `).join('');
      const contactsHTML=`
        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:8px;">
          <div style="flex:1;min-width:120px;">Email: ${escapeHtml(state.content.contacts.email || 'example@mail.com')}</div>
          <div style="flex:1;min-width:120px;">GitHub: ${escapeHtml(state.content.contacts.github || 'github.com/username')}</div>
        </div>
      `;
      return `
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>${seoTitle}</title>
  <meta name="description" content="${seoDesc}" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta property="og:title" content="${seoTitle}" />
  <meta property="og:description" content="${seoDesc}" />
  <style>
    :root{
      --primary:${accent};
      font-family:${font};
      color:#1f2d3a;
      background:#f5f7fa;
    }
    *{box-sizing:border-box;}
    body{margin:0;font-family:inherit;background:#f5f7fa;}
    .container{max-width:900px;margin:0 auto;padding:40px 16px;}
    h1{margin:0;font-size:2.2rem;font-weight:700;}
    h2{margin:0;font-size:1.1rem;font-weight:600;color:#555;}
    .card{background:#fff;border-radius:10px;padding:16px;box-shadow:0 30px 60px -10px rgba(31,45,58,.08);margin-bottom:16px;}
    .badge{background:var(--primary);color:#fff;padding:6px 14px;border-radius:999px;font-size:.8rem;display:inline-block;margin-bottom:8px;font-weight:600;}
    .small{font-size:.9rem;color:#555;margin-top:6px;}
    .projects{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:8px;}
    a{color:var(--primary);text-decoration:none;}
  </style>
</head>
<body>
  <div class="container">
    <div>
      <div style="margin-bottom:12px;">
        <div style="font-size:.85rem;color:#777;">–ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</div>
        <h1>${safeTitle}</h1>
        <div style="margin-top:4px;font-size:1rem;color:#555;">${safeSubtitle}</div>
      </div>
      <div class="card">
        <div class="badge">–û —Å–µ–±–µ</div>
        <div class="small">${safeAbout}</div>
      </div>
      <div class="card">
        <div class="badge">–ü—Ä–æ–µ–∫—Ç—ã</div>
        <div class="projects">
          ${projectsHTML}
        </div>
      </div>
      <div class="card">
        <div class="badge">–ö–æ–Ω—Ç–∞–∫—Ç—ã</div>
        ${contactsHTML}
      </div>
      <div style="margin-top:40px;font-size:.8rem;color:#888;text-align:center;">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é InstantPortfolio. –ë–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.</div>
    </div>
  </div>
</body>
</html>
      `;
    }

    // —Ñ–∏–ª—å—Ç—Ä—ã —à–∞–±–ª–æ–Ω–æ–≤
    function filterTemplates(type){
      document.querySelectorAll('.template-filter button').forEach(b=>b.classList.remove('active'));
      document.querySelector(`.template-filter button[data-filter="${type}"]`)?.classList.add('active');
      document.querySelectorAll('#templates .template-card').forEach(card=>{
        if(type==='all') card.style.display='block';
        else card.style.display= card.getAttribute('data-type')===type ? 'block' : 'none';
      });
    }

    // scroll reveal
    function initScrollReveal(){
      const observer=new IntersectionObserver((entries)=>{
        entries.forEach(e=>{
          if(e.isIntersecting){
            e.target.classList.add('reveal-visible');
            observer.unobserve(e.target);
          }
        });
      },{threshold:0.15});
      document.querySelectorAll('.step').forEach(s=>observer.observe(s));
      document.querySelectorAll('.card, .case-card, .section').forEach(s=>observer.observe(s));
    }

    function revealSteps(){
      document.querySelectorAll('.step').forEach((el,i)=>{
        setTimeout(()=>el.classList.add('visible'), i*150);
      });
    }

    // drag & drop —Å–µ–∫—Ü–∏–π
    function initDragSections(){
      const wrapper=document.getElementById('sectionsWrapper');
      let dragEl=null;
      let placeholder=null;
      wrapper.querySelectorAll('.section').forEach(sec=>{
        const handle=sec.querySelector('.drag-handle')||sec;
        handle.addEventListener('mousedown', e=>{
          dragEl=sec;
          sec.style.opacity='0.6';
          placeholder=document.createElement('div');
          placeholder.className='reorder-placeholder';
          placeholder.style.height=sec.offsetHeight+'px';
          sec.parentNode.insertBefore(placeholder, sec.nextSibling);
          document.body.style.userSelect='none';
          const shiftY=e.clientY - sec.getBoundingClientRect().top;
          function moveAt(pageY){
            sec.style.position='absolute';
            sec.style.zIndex='999';
            sec.style.width=placeholder.offsetWidth+'px';
            sec.style.top=pageY - shiftY + 'px';
            sec.style.left=placeholder.getBoundingClientRect().left + 'px';
          }
          function onMouseMove(event){
            moveAt(event.pageY);
            const rect=placeholder.getBoundingClientRect();
            const mid=rect.top + rect.height/2;
            const sections=[...wrapper.querySelectorAll('.section')].filter(s=>s!==sec);
            sections.forEach(s=>{
              const r=s.getBoundingClientRect();
              if(event.clientY > r.top && event.clientY < r.bottom){
                if(event.clientY < mid){
                  wrapper.insertBefore(placeholder, s);
                } else {
                  wrapper.insertBefore(placeholder, s.nextSibling);
                }
              }
            });
          }
          document.addEventListener('mousemove', onMouseMove);
          document.addEventListener('mouseup', ()=>{
            document.removeEventListener('mousemove', onMouseMove);
            sec.style.position='';
            sec.style.zIndex='';
            sec.style.width='';
            sec.style.opacity='';
            if(placeholder){
              wrapper.insertBefore(sec, placeholder);
              placeholder.remove();
              placeholder=null;
              syncSectionsOrder();
              scheduleSave();
            }
            document.body.style.userSelect='';
          }, { once:true });
        });
      });
    }
    function syncSectionsOrder(){
      const order=[...document.querySelectorAll('.section')].map(s=>s.getAttribute('data-key'));
      state.sections=order.filter(Boolean);
    }

    // particles –≤ –≥–µ—Ä–æ–µ (–ø—Ä–æ—Å—Ç–æ–π)
    let particles=[];
    function initParticles(){
      const canvas=document.getElementById('particleCanvas');
      if(!canvas) return;
      const ctx=canvas.getContext('2d');
      let w=canvas.width=window.innerWidth;
      let h=canvas.height=400;
      function resize(){ w=canvas.width=window.innerWidth; h=canvas.height=400; }
      window.addEventListener('resize', resize);
      for(let i=0;i<60;i++){
        particles.push({
          x: Math.random()*w,
          y: Math.random()*h,
          r: Math.random()*2+1,
          vx: (Math.random()-0.5)*0.3,
          vy: (Math.random()-0.5)*0.3,
          alpha: Math.random()*0.5+0.2
        });
      }
      function draw(){
        ctx.clearRect(0,0,w,h);
        particles.forEach(p=>{
          p.x += p.vx;
          p.y += p.vy;
          if(p.x < 0) p.x = w;
          if(p.x > w) p.x = 0;
          if(p.y < 0) p.y = h;
          if(p.y > h) p.y = 0;
          ctx.beginPath();
          ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
          ctx.fillStyle = `rgba(37,99,235,${p.alpha})`;
          ctx.fill();
        });
        requestAnimationFrame(draw);
      }
      draw();
    }

    // —ç—Ñ—Ñ–µ–∫—Ç ripple –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö
    document.body.addEventListener('click', e=>{
      const target=e.target.closest('button');
      if(!target) return;
      const circle=document.createElement('span');
      const rect=target.getBoundingClientRect();
      const size=Math.max(rect.width,rect.height);
      circle.style.width=circle.style.height=size+'px';
      circle.className='ripple';
      circle.style.left=(e.clientX - rect.left - size/2)+'px';
      circle.style.top=(e.clientY - rect.top - size/2)+'px';
      target.appendChild(circle);
      setTimeout(()=>circle.remove(),600);
    });

    // –ø—Ä–µ—Å–µ—Ç—ã/–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
    window.addEventListener('load', init);
    window.addEventListener('hashchange', ()=>{
      loadState();
      render();
    });

    // —Å–∫—Ä–æ–ª–ª –∫ –≥–∞–ª–µ—Ä–µ–µ
    function scrollToGallery(){ document.getElementById('gallery').scrollIntoView({behavior:'smooth'}); }
    function createDraft(){ updateShareLink(); titleEl.focus(); window.scrollTo({top:300,behavior:'smooth'}); }

  </script>
</body>
</html>
