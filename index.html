<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Мгновенное портфолио</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="Портфолио, которое говорит за тебя. Мгновенно. Без регистрации, без подписок." />
  <style>
    :root {
      --bg:#f5f7fa;
      --card:#fff;
      --radius:10px;
      --shadow:0 20px 40px -10px rgba(31,45,58,.08);
      --transition:.35s cubic-bezier(.4,.2,.2,1);
      --primary:#2563eb;
      --radius-sm:6px;
      --text:#1f2d3a;
      font-family: system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
      color: var(--text);
      line-height:1.45;
    }
    *{box-sizing:border-box;}
    body{margin:0;background:var(--bg);min-height:100%;-webkit-font-smoothing:antialiased;}
    a{color:inherit;text-decoration:none;}
    img{max-width:100%;display:block;}
    button{cursor:pointer;border:none;background:none;font:inherit;}
    .container{max-width:1200px;margin:0 auto;padding:0 1rem;}
    .flex{display:flex;}
    .center{align-items:center;display:flex;}
    .space-between{justify-content:space-between;}
    .gap{gap:1rem;}
    h1{margin:0;font-size:2.5rem;font-weight:700;line-height:1.1;}
    h2{margin:0;font-size:1.25rem;font-weight:600;}
    p{margin:0 0 1em;font-size:1rem;}
    .btn-primary{background:var(--primary);color:#fff;padding:.75rem 1.5rem;border-radius:8px;font-weight:600;display:inline-flex;align-items:center;gap:.5rem;transition:var(--transition);}
    .btn-primary:hover{filter:brightness(1.05);}
    .btn-secondary{padding:.65rem 1.2rem;border-radius:8px;border:1px solid #d4d9e2;font-weight:600;display:inline-flex;align-items:center;gap:.4rem;transition:var(--transition);}
    .shadow{box-shadow:var(--shadow);}
    .card{background:var(--card);border-radius:var(--radius);padding:1.25rem;position:relative;overflow:hidden;transition:var(--transition);}
    .card:hover{transform:translateY(-4px);box-shadow:0 30px 50px -10px rgba(31,45,58,.13);}
    .pill{background:#eef2f7;border-radius:999px;padding:4px 12px;font-size:.625rem;display:inline-block;margin-right:6px;}
    .badge{background:rgba(37,99,235,.08);color:var(--primary);padding:6px 14px;border-radius:999px;font-size:.65rem;font-weight:600;display:inline-block;margin-bottom:6px;}
    .inline-edit{outline:2px dashed transparent;transition:var(--transition);}
    .inline-edit:focus{outline:2px dashed var(--primary);background:rgba(37,99,235,.03);}
    .small{font-size:.85rem;color:#556678;}
    .template-filter{display:flex;gap:.5rem;flex-wrap:wrap;margin-bottom:1rem;}
    .template-filter button{padding:.45rem .9rem;border-radius:999px;border:1px solid #d4d9e2;background:#fff;font-size:.75rem;transition:var(--transition);}
    .template-filter button.active{background:var(--primary);color:#fff;border-color:var(--primary);}
    .badge-template{position:absolute;top:8px;left:8px;background:rgba(255,255,255,.9);padding:4px 10px;border-radius:6px;font-size:.6rem;font-weight:600;box-shadow:0 10px 30px -5px rgba(31,45,58,.1);}
    .nav{display:flex;gap:1rem;flex-wrap:wrap;font-size:.9rem;margin-top:4px;}
    .pill-small{background:#eff3f9;border-radius:999px;padding:5px 12px;font-size:.6rem;margin-right:5px;}
    .editor{display:grid;grid-template-columns:1fr 2fr 1fr;gap:20px;margin-top:40px;}
    .panel{background:#fff;border-radius:12px;padding:15px;position:sticky;top:80px;max-height:calc(100vh - 120px);overflow:auto;}
    .panel h3{margin-top:0;font-size:1rem;text-transform:uppercase;letter-spacing:1px;color:#556678;margin-bottom:8px;}
    .template-card{position:relative;overflow:hidden;border-radius:14px;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between;min-height:180px;}
    .template-thumb{background:#f0f4f9;border-radius:10px;padding:12px;flex:1;display:flex;flex-direction:column;justify-content:space-between;gap:6px;}
    .tag{background:#e7ecf9;border-radius:6px;padding:4px 10px;font-size:.55rem;display:inline-block;margin-right:4px;margin-bottom:4px;}
    .pill-small.selected{background:var(--primary);color:#fff;}
    .stepper{display:flex;gap:12px;flex-wrap:wrap;margin:2rem 0;}
    .step{flex:1;min-width:180px;display:flex;gap:12px;align-items:flex-start;}
    .step .circle{width:32px;height:32px;border-radius:50%;background:var(--primary);color:#fff;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:700;margin-right:8px;flex-shrink:0;}
    .case{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:15px;margin-top:10px;}
    .case-card{background:var(--card);border-radius:10px;overflow:hidden;position:relative;display:flex;flex-direction:column;}
    .case-thumbnail{height:140px;background:#eef3fb;display:flex;align-items:center;justify-content:center;font-size:.9rem;color:#556678;position:relative;}
    .footer{margin-top:60px;padding:40px 0;font-size:.8rem;color:#556678;}
    .footer .row{display:flex;flex-wrap:wrap;gap:30px;}
    .footer-col{flex:1;min-width:180px;}
    .pill-sm{background:#f0f4f9;border-radius:999px;padding:5px 10px;font-size:.65rem;display:inline-block;margin-bottom:6px;}
    .link{color:#2563eb;}
    .share-box{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px;}
    .code{background:#f5f8fc;border-radius:6px;padding:6px 10px;font-family:monospace;font-size:.7rem;overflow-x:auto;display:inline-block;}
    .toggle{display:inline-flex;align-items:center;gap:6px;border:1px solid #d4d9e2;padding:6px 12px;border-radius:999px;font-size:.75rem;}
    .pill-tag{background:rgba(37,99,235,.1);color:var(--primary);padding:6px 12px;border-radius:999px;font-size:.6rem;display:inline-block;margin-right:4px;}
    .badge-live{position:absolute;top:10px;right:10px;background:#22c55e;color:#fff;padding:6px 12px;border-radius:999px;font-size:.55rem;font-weight:600;}
    .micro{font-size:.75rem;color:#556678;margin-top:4px;}
    .template-selected{outline:3px solid var(--primary);}
    @media (max-width: 1024px){
      .editor{grid-template-columns:1fr; }
      .panel{position:relative;top:0;max-height:none;margin-bottom:20px;}
    }
    .tooltip{position:relative;cursor:help;}
    .tooltip:hover .tip{visibility:visible;opacity:1;}
    .tip{position:absolute;bottom:125%;left:50%;transform:translateX(-50%);background:#1f2d3a;color:#fff;padding:8px 12px;border-radius:6px;font-size:.65rem;white-space:nowrap;visibility:hidden;opacity:0;transition:opacity .2s;z-index:10;}
    .pill-small[data-active="true"]{background:var(--primary);color:#fff;}
    .flex-wrap{display:flex;flex-wrap:wrap;gap:8px;}
    .divider{height:1px;background:#e6e9f2;margin:30px 0;}
    .light{background:#fff;}
    .code-block{background:#f1f5fb;border-radius:8px;padding:12px;font-family:monospace;overflow-x:auto;}
    .badge-new{background:#ffb703;color:#1f2d3a;padding:5px 12px;border-radius:999px;font-size:.55rem;margin-right:6px;display:inline-block;}
    .inline-small{font-size:.85rem;background:#f9fbfe;padding:4px 8px;border-radius:5px;margin-right:4px;}
  </style>
</head>
<body>

  <!-- HEADER / HERO -->
  <header class="container" style="padding:30px 0;">
    <div class="flex space-between" style="flex-wrap:wrap;">
      <div style="display:flex;align-items:center;gap:16px;">
        <div style="font-weight:700;font-size:1.1rem;">InstantPortfolio</div>
        <div class="small">Без регистрации. Без подписок. Ссылка готова сразу.</div>
      </div>
      <div class="flex gap" style="flex-wrap:wrap;">
        <button class="btn-secondary" onclick="scrollToGallery()">Посмотреть примеры</button>
        <button class="btn-primary" id="startBtn" onclick="createDraft()">Создать портфолио</button>
      </div>
    </div>
  </header>

  <section class="container" style="margin-top:10px;">
    <div class="flex" style="gap:40px;flex-wrap:wrap;">
      <div style="flex:1;min-width:300px;">
        <h1>Портфолио, которое говорит за тебя. Мгновенно.</h1>
        <p>Выбери шаблон, настрой — поделись. Никаких форм, никаких обязательств.</p>
        <div class="flex gap" style="margin-top:16px;">
          <button class="btn-primary" onclick="createDraft()">Начать сейчас</button>
          <button class="btn-secondary" onclick="scrollToGallery()">Посмотреть примеры</button>
        </div>
        <p class="small" style="margin-top:12px;">Мгновенное гостевое драфт-портфолио. Сохраняется локально. Публикуется одной ссылкой.</p>
      </div>
      <div style="flex:1;min-width:280px;position:relative;">
        <!-- демонстрация мини-превью -->
        <div class="card shadow" style="padding:16px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="flex:1;">
              <div style="background:#e8ecf8;height:14px;width:70%;border-radius:6px;margin-bottom:8px;"></div>
              <div style="background:#dfe6f2;height:12px;width:50%;border-radius:6px;margin-bottom:12px;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#eef3fb;height:60px;flex:1;border-radius:8px;"></div>
                <div style="background:#eef3fb;height:60px;flex:1;border-radius:8px;"></div>
                <div style="background:#eef3fb;height:60px;flex:1;border-radius:8px;"></div>
              </div>
            </div>
            <div style="width:120px;">
              <div style="background:#f0f4f9;height:120px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:.8rem;color:#556678;">Live Preview</div>
            </div>
          </div>
          <div class="badge-live">Пример</div>
        </div>
      </div>
    </div>

    <!-- преимущества -->
    <div class="divider"></div>
    <div class="container">
      <div style="text-align:center;max-width:900px;margin:0 auto;">
        <h2 style="font-size:1.9rem;">Почему это работает</h2>
        <p class="small">Простой поток, профессиональный результат. Без барьеров.</p>
      </div>
      <div class="flex" style="margin-top:30px;gap:20px;flex-wrap:wrap;">
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="font-size:1.5rem;line-height:1;">⚡</div>
            <div>
              <div style="font-weight:600;">Мгновенно</div>
              <div class="small">Портфолио готово за секунды — без лишних форм.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="font-size:1.5rem;line-height:1;">🎨</div>
            <div>
              <div style="font-weight:600;">Премиальный дизайн</div>
              <div class="small">Готовые шаблоны, адаптивные и выразительные.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="font-size:1.5rem;line-height:1;">✏️</div>
            <div>
              <div style="font-weight:600;">Полный контроль</div>
              <div class="small">Inline-редактирование: текст, цвета, секции — всё здесь.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="font-size:1.5rem;line-height:1;">🌀</div>
            <div>
              <div style="font-weight:600;">Живые анимации</div>
              <div class="small">Мягкие входы и hover-эффекты с учетом prefers-reduced-motion.</div>
            </div>
          </div>
        </div>
        <div class="card" style="flex:1;min-width:220px;">
          <div style="display:flex;gap:12px;align-items:start;">
            <div style="font-size:1.5rem;line-height:1;">🔗</div>
            <div>
              <div style="font-weight:600;">Без привязки</div>
              <div class="small">Никаких email, подписок и скрытых условий.</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Галерея шаблонов -->
    <div id="gallery" class="divider"></div>
    <div class="container">
      <div style="display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:10px;">
        <div>
          <h2 style="font-size:1.9rem;">Шаблоны и вдохновение</h2>
          <p class="small">Начни с готового: для дизайнеров, разработчиков, минималистов.</p>
        </div>
        <div class="template-filter" aria-label="Фильтры шаблонов">
          <button data-filter="all" class="active" onclick="filterTemplates('all')">Все</button>
          <button data-filter="designer" onclick="filterTemplates('designer')">Дизайнер</button>
          <button data-filter="developer" onclick="filterTemplates('developer')">Разработчик</button>
          <button data-filter="minimal" onclick="filterTemplates('minimal')">Минималист</button>
        </div>
      </div>
      <div id="templates" class="flex" style="flex-wrap:wrap;gap:16px;margin-top:12px;">
        <!-- шаблоны -->
        <div class="card template-card" data-type="designer" onclick="selectTemplate('ux')" id="tpl-ux" style="flex:1;min-width:260px;max-width:320px;">
          <div class="badge-template">Лучше всего для UX-дизайнеров</div>
          <div class="template-thumb">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:600;">UX Designer</div>
              <div class="pill-small">Вдохновляюще</div>
            </div>
            <div style="margin-top:8px;">
              <div style="background:#e6eaf7;height:10px;width:60%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="background:#d9e2f9;height:8px;width:40%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#eef3fb;height:40px;flex:1;border-radius:5px;"></div>
                <div style="background:#eef3fb;height:40px;flex:1;border-radius:5px;"></div>
              </div>
            </div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center;">
              <div class="small">Профессиональное</div>
              <div><button class="btn-secondary" onclick="event.stopPropagation(); selectTemplate('ux'); createDraft()">Попробовать</button></div>
            </div>
          </div>
        </div>

        <div class="card template-card" data-type="developer" onclick="selectTemplate('dev')" id="tpl-dev" style="flex:1;min-width:260px;max-width:320px;">
          <div class="badge-template">Для разработчиков с проектами</div>
          <div class="template-thumb">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:600;">Frontend Engineer</div>
              <div class="pill-small">Технически</div>
            </div>
            <div style="margin-top:8px;">
              <div style="background:#f0f8f0;height:10px;width:50%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="background:#d7eed9;height:8px;width:70%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#e7f5ec;height:40px;flex:1;border-radius:5px;"></div>
                <div style="background:#e7f5ec;height:40px;flex:1;border-radius:5px;"></div>
              </div>
            </div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center;">
              <div class="small">Прогрессивное</div>
              <div><button class="btn-secondary" onclick="event.stopPropagation(); selectTemplate('dev'); createDraft()">Попробовать</button></div>
            </div>
          </div>
        </div>

        <div class="card template-card" data-type="minimal" onclick="selectTemplate('minimal')" id="tpl-minimal" style="flex:1;min-width:260px;max-width:320px;">
          <div class="badge-template">Минималистичное резюме</div>
          <div class="template-thumb">
            <div style="display:flex;justify-content:space-between;align-items:center;">
              <div style="font-weight:600;">Minimal Resume</div>
              <div class="pill-small">Чисто</div>
            </div>
            <div style="margin-top:8px;">
              <div style="background:#f9f9f9;border:1px solid #ddd;height:10px;width:55%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="background:#f9f9f9;border:1px solid #ddd;height:8px;width:45%;border-radius:5px;margin-bottom:6px;"></div>
              <div style="display:flex;gap:8px;margin-top:6px;">
                <div style="background:#f9f9f9;border:1px solid #ddd;height:40px;flex:1;border-radius:5px;"></div>
                <div style="background:#f9f9f9;border:1px solid #ddd;height:40px;flex:1;border-radius:5px;"></div>
              </div>
            </div>
            <div style="margin-top:10px;display:flex;justify-content:space-between;align-items:center;">
              <div class="small">Лаконично</div>
              <div><button class="btn-secondary" onclick="event.stopPropagation(); selectTemplate('minimal'); createDraft()">Попробовать</button></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Как это работает -->
    <div class="divider"></div>
    <div class="container">
      <div style="text-align:center;max-width:800px;margin:0 auto;">
        <h2 style="font-size:1.9rem;">Как это работает</h2>
        <p class="small">Три шага до живой ссылки.</p>
      </div>
      <div class="stepper">
        <div class="step">
          <div class="circle">1</div>
          <div>
            <div style="font-weight:600;">Выбери шаблон</div>
            <div class="small">Нажми, чтобы начать с готового стиля.</div>
          </div>
        </div>
        <div class="step">
          <div class="circle">2</div>
          <div>
            <div style="font-weight:600;">Настрой</div>
            <div class="small">Кликни по тексту и картинкам, чтобы редактировать inline.</div>
          </div>
        </div>
        <div class="step">
          <div class="circle">3</div>
          <div>
            <div style="font-weight:600;">Поделись</div>
            <div class="small">Скопируй ссылку — она сразу показывает текущее портфолио.</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Редактор и preview -->
    <div class="divider"></div>
    <div class="container">
      <div class="editor" aria-label="Редактор портфолио">
        <!-- левая панель -->
        <div class="panel" style="flex:1;">
          <div style="display:flex;justify-content:space-between;align-items:center;">
            <div>
              <h3>Редактирование</h3>
              <div class="small">Гостевой драфт — сохраняется автоматически.</div>
            </div>
            <div>
              <button class="btn-secondary" onclick="undo()">↺</button>
              <button class="btn-secondary" onclick="redo()">↻</button>
            </div>
          </div>

          <div style="margin-top:16px;">
            <div class="small">Шаблон</div>
            <div class="flex-wrap" style="margin-top:6px;">
              <button class="toggle" data-template="ux" onclick="selectTemplate('ux')">UX Designer</button>
              <button class="toggle" data-template="dev" onclick="selectTemplate('dev')">Developer</button>
              <button class="toggle" data-template="minimal" onclick="selectTemplate('minimal')">Minimal</button>
            </div>
          </div>

          <div style="margin-top:20px;">
            <div class="small">Тема</div>
            <div style="display:flex;gap:10px;margin-top:6px;flex-wrap:wrap;">
              <div>
                <div class="small">Цвет акцента</div>
                <input type="color" id="colorPicker" value="#2563eb" onchange="updateTheme()" aria-label="Выбор основного цвета" />
              </div>
              <div>
                <div class="small">Шрифт</div>
                <select id="fontSelect" onchange="updateTheme()" aria-label="Выбор шрифта">
                  <option value="system-ui,-apple-system,BlinkMacSystemFont,sans-serif">Система</option>
                  <option value="'Segoe UI', system-ui,-apple-system">Segoe UI</option>
                  <option value="'Roboto', system-ui,-apple-system">Roboto</option>
                  <option value="'Open Sans', system-ui,-apple-system">Open Sans</option>
                </select>
              </div>
            </div>
          </div>

          <div style="margin-top:20px;">
            <div class="small">Шаринг</div>
            <div class="share-box">
              <input type="text" id="shareLink" readonly style="flex:1;padding:8px;border:1px solid #d4d9e2;border-radius:6px;font-size:.9rem;" aria-label="Ссылка для шаринга" />
              <button class="btn-primary" onclick="copyLink()">Скопировать</button>
            </div>
            <div class="micro">Ссылка содержит текущее состояние. Открытие показывает портфолио в режиме просмотра.</div>
          </div>

          <div style="margin-top:20px;">
            <div class="small">Экспорт</div>
            <div style="margin-top:6px;">
              <button class="btn-secondary" onclick="downloadStatic()">Скачать статическое HTML</button>
            </div>
            <div class="micro">Получаешь единичный HTML-файл с текущим портфолио.</div>
          </div>

          <div style="margin-top:30px;">
            <div class="small">История</div>
            <div class="micro">Автосохранение. Можно отменить/вернуть.</div>
          </div>
        </div>

        <!-- canvas (предпросмотр / редактирование) -->
        <div class="panel" style="flex:2;" aria-label="Canvas редактора">
          <div style="display:flex;justify-content:space-between;align-items:start;flex-wrap:wrap;gap:10px;">
            <div>
              <div contenteditable="true" class="inline-edit" id="title" style="font-size:2rem;font-weight:700;">Имя Фамилия</div>
              <div contenteditable="true" class="inline-edit small" id="subtitle" style="margin-top:4px;">Frontend-инженер, создаю интерфейсы</div>
            </div>
            <div style="display:flex;gap:10px;flex-wrap:wrap;">
              <div class="pill-sm">Просмотр</div>
              <div class="pill-sm">Редактирование</div>
            </div>
          </div>

          <div style="margin-top:20px;">
            <div class="badge-new">О себе</div>
            <div contenteditable="true" class="inline-edit" id="about" style="margin-top:6px;padding:12px;border:1px solid #e3e8f9;border-radius:8px;">
              Привет! Я создаю быстрые и выразительные портфолио без лишних усилий. Использую современный стек и делаю всё интерактивно.
            </div>
          </div>

          <div style="margin-top:30px;">
            <div class="badge-new">Проекты</div>
            <div id="projects" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:10px;">
              <!-- проектные карточки -->
            </div>
            <div style="margin-top:12px;">
              <button class="btn-secondary" onclick="addProject()">Добавить проект</button>
            </div>
          </div>

          <div style="margin-top:30px;">
            <div class="badge-new">Контакты</div>
            <div style="display:flex;gap:16px;flex-wrap:wrap;margin-top:8px;">
              <div contenteditable="true" class="inline-edit" style="padding:8px;border:1px solid #dce2f0;border-radius:6px;flex:1;min-width:120px;">Email: example@mail.com</div>
              <div contenteditable="true" class="inline-edit" style="padding:8px;border:1px solid #dce2f0;border-radius:6px;flex:1;min-width:120px;">GitHub: github.com/username</div>
            </div>
          </div>
        </div>

        <!-- правая панель -->
        <div class="panel" style="flex:1;">
          <div>
            <h3>Настройки</h3>
          </div>
          <div style="margin-top:12px;">
            <div class="small">Анимации</div>
            <div style="margin-top:6px;">
              <label><input type="checkbox" id="toggleAnimation" checked onchange="applyAnimationSettings()"> Включены входные эффекты</label>
            </div>
          </div>
          <div style="margin-top:20px;">
            <div class="small">SEO & превью</div>
            <div style="margin-top:8px;">
              <div class="small">Title</div>
              <input type="text" id="seoTitle" placeholder="Заголовок для поиска" style="width:100%;padding:8px;border:1px solid #d4d9e2;border-radius:6px;margin-top:4px;" />
              <div class="small" style="margin-top:10px;">Description</div>
              <textarea id="seoDesc" rows="3" placeholder="Описание для предпросмотра" style="width:100%;padding:8px;border:1px solid #d4d9e2;border-radius:6px;margin-top:4px;"></textarea>
            </div>
          </div>

          <div style="margin-top:20px;">
            <div class="small">Превью</div>
            <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap;">
              <div style="flex:1;min-width:100px;">
                <div class="small">Мобильное</div>
                <div style="border:1px solid #d4d9e2;border-radius:8px;padding:6px;margin-top:4px;">📱</div>
              </div>
              <div style="flex:1;min-width:100px;">
                <div class="small">Десктоп</div>
                <div style="border:1px solid #d4d9e2;border-radius:8px;padding:6px;margin-top:4px;">🖥️</div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Кейсы -->
    <div class="divider"></div>
    <div class="container">
      <div style="text-align:center;max-width:800px;margin:0 auto;">
        <h2 style="font-size:1.9rem;">Живые кейсы</h2>
        <p class="small">Примеры пользователей, которые уже делятся своими портфолио.</p>
      </div>
      <div class="case">
        <div class="case-card">
          <div class="case-thumbnail">
            <div>Фриланс-дизайнер — резюме и проекты</div>
          </div>
          <div style="padding:12px;">
            <div style="font-weight:600;">Anna Ivanova</div>
            <div class="small" style="margin-top:4px;">UX/UI designer. Примеры редизайна.</div>
            <div style="margin-top:10px;">
              <button class="btn-secondary" onclick="alert('Открыть живое портфолио')">Открыть</button>
            </div>
          </div>
        </div>
        <div class="case-card">
          <div class="case-thumbnail">
            <div>Frontend-инженер — проекты и блог</div>
          </div>
          <div style="padding:12px;">
            <div style="font-weight:600;">Ivan Petrov</div>
            <div class="small" style="margin-top:4px;">React / Vanilla JS. Публикации и кейсы.</div>
            <div style="margin-top:10px;">
              <button class="btn-secondary" onclick="alert('Открыть живое портфолио')">Открыть</button>
            </div>
          </div>
        </div>
        <div class="case-card">
          <div class="case-thumbnail">
            <div>Минималистичное резюме</div>
          </div>
          <div style="padding:12px;">
            <div style="font-weight:600;">Maria S.</div>
            <div class="small" style="margin-top:4px;">Краткое, чистое, эффектное.</div>
            <div style="margin-top:10px;">
              <button class="btn-secondary" onclick="alert('Открыть живое портфолио')">Открыть</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Без подписок / доверие -->
    <div class="divider"></div>
    <div class="container" style="padding:40px 0;">
      <div class="card" style="display:flex;gap:30px;flex-wrap:wrap;">
        <div style="flex:1;min-width:220px;">
          <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px;">
            <div style="font-size:1.8rem;">🛡️</div>
            <div>
              <div style="font-weight:700;">Без подписок</div>
              <div class="small">Ты создаёшь — и сразу получаешь ссылку. Никаких email, платёжных данных.</div>
            </div>
          </div>
          <div class="small">Сохраняй локально, делись публично. Без спама. Без обязательств.</div>
        </div>
        <div style="flex:1;min-width:220px;">
          <div class="small">Что происходит под капотом:</div>
          <ul style="padding-left:18px;margin-top:6px;">
            <li>Автосохранение в браузере</li>
            <li>Сериализация состояния в ссылку</li>
            <li>Inline-редактирование без модалок</li>
            <li>Настройка темы, SEO и шаринг</li>
            <li>Экспорт в чистый HTML одним кликом</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- FOOTER -->
    <div class="footer">
      <div class="container">
        <div class="row">
          <div class="footer-col">
            <div style="font-weight:700;margin-bottom:6px;">InstantPortfolio</div>
            <div class="small">Мгновенные портфолио — без регистрации, без подписок.</div>
          </div>
          <div class="footer-col">
            <div style="font-weight:600;margin-bottom:6px;">Навигация</div>
            <div><a class="link" href="#gallery">Шаблоны</a></div>
            <div><a class="link" href="#about">О продукте</a></div>
            <div><a class="link" href="javascript:void(0)">FAQ</a></div>
            <div><a class="link" href="javascript:void(0)">Обратная связь</a></div>
          </div>
          <div class="footer-col">
            <div style="font-weight:600;margin-bottom:6px;">Право</div>
            <div><a class="link" href="javascript:void(0)">Политика приватности</a></div>
            <div><a class="link" href="javascript:void(0)">Условия</a></div>
          </div>
          <div class="footer-col">
            <div style="font-weight:600;margin-bottom:6px;">Контакты</div>
            <div class="small">support@instantportfolio.example</div>
          </div>
        </div>
        <div style="margin-top:30px;text-align:center;">
          <div class="small">&copy; <span id="footerYear"></span> InstantPortfolio. Все права защищены.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- LZ-STRING (сжатие/декомпрессия) -->
  <script>
    // Минимальная реализация lz-string для compressToEncodedURIComponent / decompressFromEncodedURIComponent
    // Источник: https://github.com/pieroxy/lz-string (схематически адаптировано)
    const LZString = (function(){
      const f = String.fromCharCode;
      const keyStrBase64 = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
      function compressToEncodedURIComponent(input) {
        if (input == null) return "";
        return encodeURIComponent(_compress(input, 6, function(a){ return "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$".charAt(a); }));
      }
      function decompressFromEncodedURIComponent(input) {
        if (input == null) return "";
        input = decodeURIComponent(input);
        return _decompress(input.length, 32, function(index){ return "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$".charAt(index); });
      }
      function _compress(uncompressed, bitsPerChar, getCharFromInt) {
        if (uncompressed == null) return "";
        let i, value, context_dictionary = {}, context_dictionaryToCreate = {}, context_c = "", context_wc = "", context_w = "", context_enlargeIn = 2, context_dictSize = 3, context_numBits = 2, context_data = [], context_data_val = 0, context_data_position = 0;
        for (let ii = 0; ii < uncompressed.length; ii += 1) {
          context_c = uncompressed.charAt(ii);
          if (!Object.prototype.hasOwnProperty.call(context_dictionary, context_c)) {
            context_dictionary[context_c] = context_dictSize++;
            context_dictionaryToCreate[context_c] = true;
          }
          context_wc = context_w + context_c;
          if (Object.prototype.hasOwnProperty.call(context_dictionary, context_wc)) {
            context_w = context_wc;
          } else {
            if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate, context_w)) {
              value = context_w.charCodeAt(0);
              for (i = 0; i < context_numBits; i++) {
                context_data_val = (context_data_val << 1);
                if ((value & (1 << (context_numBits - i - 1))) !== 0) context_data_val |= 1;
                context_data_position++;
                if (context_data_position == 8) {
                  context_data_position = 0;
                  context_data.push(f(context_data_val));
                  context_data_val = 0;
                }
              }
              context_enlargeIn--;
              if (context_enlargeIn == 0) {
                context_enlargeIn = Math.pow(2, context_numBits);
                context_numBits++;
              }
              delete context_dictionaryToCreate[context_w];
            } else {
              value = context_dictionary[context_w];
              for (i = 0; i < context_numBits; i++) {
                context_data_val = (context_data_val << 1) | ((value >> (context_numBits - i - 1)) & 1);
                context_data_position++;
                if (context_data_position == 8) {
                  context_data_position = 0;
                  context_data.push(f(context_data_val));
                  context_data_val = 0;
                }
              }
            }
            context_enlargeIn--;
            if (context_enlargeIn == 0) {
              context_enlargeIn = Math.pow(2, context_numBits);
              context_numBits++;
            }
            context_dictionary[context_wc] = context_dictSize++;
            context_w = String(context_c);
          }
        }
        if (context_w !== "") {
          if (Object.prototype.hasOwnProperty.call(context_dictionaryToCreate, context_w)) {
            value = context_w.charCodeAt(0);
            for (i = 0; i < context_numBits; i++) {
              context_data_val = (context_data_val << 1);
              if ((value & (1 << (context_numBits - i - 1))) !== 0) context_data_val |= 1;
              context_data_position++;
              if (context_data_position == 8) {
                context_data_position = 0;
                context_data.push(f(context_data_val));
                context_data_val = 0;
              }
            }
            context_enlargeIn--;
            if (context_enlargeIn == 0) {
              context_enlargeIn = Math.pow(2, context_numBits);
              context_numBits++;
            }
            delete context_dictionaryToCreate[context_w];
          } else {
            value = context_dictionary[context_w];
            for (i = 0; i < context_numBits; i++) {
              context_data_val = (context_data_val << 1) | ((value >> (context_numBits - i - 1)) & 1);
              context_data_position++;
              if (context_data_position == 8) {
                context_data_position = 0;
                context_data.push(f(context_data_val));
                context_data_val = 0;
              }
            }
          }
          context_enlargeIn--;
          if (context_enlargeIn == 0) {
            context_enlargeIn = Math.pow(2, context_numBits);
            context_numBits++;
          }
        }
        value = 2;
        for (i = 0; i < context_numBits; i++) {
          context_data_val = (context_data_val << 1) | ((value >> (context_numBits - i - 1)) & 1);
          context_data_position++;
          if (context_data_position == 8) {
            context_data_position = 0;
            context_data.push(f(context_data_val));
            context_data_val = 0;
          }
        }
        while (true) {
          context_data_val = (context_data_val << 1);
          context_data_position++;
          if (context_data_position == 8) {
            context_data_position = 0;
            context_data.push(f(context_data_val));
            break;
          }
        }
        return context_data.join('');
      }
      function _decompress(length, resetValue, getNextValue) {
        let dictionary = [0,1];
        let enlargeIn = 4;
        let dictSize = 4;
        let numBits = 3;
        let entry = "";
        let result = [];
        let i, w, bits, resb, maxpower, power;
        let data = { val:getNextValue(0), position:resetValue, index:1 };
        function readBit() {
          if (data.position == resetValue) {
            data.position = 0;
            data.val = getNextValue(data.index++);
          }
          const bit = (data.val >> (resetValue - data.position - 1)) & 1;
          data.position++;
          if (data.position == resetValue) data.position = resetValue;
          return bit;
        }
        function readBits(n) {
          let bits = 0;
          for (let i = 0; i < n; i++) {
            bits = (bits << 1) | readBit();
          }
          return bits;
        }
        let next = readBits(2);
        switch (next) {
          case 0: w = f(readBits(8)); break;
          case 1: w = f(readBits(16)); break;
          case 2: return "";
        }
        dictionary[2] = w;
        result.push(w);
        while (true) {
          if (data.index > length) return "";
          let cc = readBits(numBits);
          let c;
          switch (cc) {
            case 0:
              c = f(readBits(8));
              dictionary[dictSize++] = c;
              cc = dictSize -1;
              enlargeIn--;
              break;
            case 1:
              c = f(readBits(16));
              dictionary[dictSize++] = c;
              cc = dictSize -1;
              enlargeIn--;
              break;
            case 2:
              return result.join('');
          }
          if (enlargeIn == 0) {
            enlargeIn = Math.pow(2, numBits);
            numBits++;
          }
          if (dictionary[cc]) {
            entry = dictionary[cc];
          } else if (cc === dictSize) {
            entry = w + w.charAt(0);
          } else {
            return null;
          }
          result.push(entry);
          dictionary[dictSize++] = w + entry.charAt(0);
          enlargeIn--;
          w = entry;
          if (enlargeIn == 0) {
            enlargeIn = Math.pow(2, numBits);
            numBits++;
          }
        }
      }
      return { compressToEncodedURIComponent, decompressFromEncodedURIComponent };
    })();
  </script>

  <!-- Основная логика -->
  <script>
    // Состояние редактора
    let state = {
      template: 'ux', // ux, dev, minimal
      theme: {
        accent: '#2563eb',
        font: "system-ui,-apple-system,BlinkMacSystemFont,sans-serif"
      },
      content: {
        title: 'Имя Фамилия',
        subtitle: 'Frontend-инженер, создаю интерфейсы',
        about: 'Привет! Я создаю быстрые и выразительные портфолио без лишних усилий. Использую современный стек и делаю всё интерактивно.',
        projects: [
          { name: 'Проект A', desc: 'Описание первого проекта.' },
          { name: 'Проект B', desc: 'Описание второго проекта.' }
        ],
        contacts: {
          email: 'example@mail.com',
          github: 'github.com/username'
        },
        seo: {
          title: '',
          description: ''
        }
      },
      animations: true
    };

    // История для undo/redo
    let history = [];
    let historyPtr = -1;
    const MAX_HISTORY = 30;
    let saveTimeout = null;

    // Элементы
    const titleEl = document.getElementById('title');
    const subtitleEl = document.getElementById('subtitle');
    const aboutEl = document.getElementById('about');
    const projectsEl = document.getElementById('projects');
    const shareLinkInput = document.getElementById('shareLink');
    const colorPicker = document.getElementById('colorPicker');
    const fontSelect = document.getElementById('fontSelect');
    const seoTitleEl = document.getElementById('seoTitle');
    const seoDescEl = document.getElementById('seoDesc');
    const footerYear = document.getElementById('footerYear');

    // Инициализация
    function init() {
      footerYear.textContent = new Date().getFullYear();
      // привязка inline редактирования
      [titleEl, subtitleEl, aboutEl].forEach(el => {
        el.addEventListener('input', scheduleStateSave);
        el.addEventListener('blur', applyFromDOM);
      });
      seoTitleEl.addEventListener('input', scheduleStateSave);
      seoDescEl.addEventListener('input', scheduleStateSave);

      loadFromURLOrLocal();
      render();
      updateShareLink();
    }

    function scheduleStateSave() {
      if (saveTimeout) clearTimeout(saveTimeout);
      saveTimeout = setTimeout(() => {
        applyFromDOM();
        pushHistory();
        persistLocal();
        updateShareLink();
      }, 300);
    }

    function applyFromDOM() {
      state.content.title = titleEl.textContent.trim() || 'Имя Фамилия';
      state.content.subtitle = subtitleEl.textContent.trim() || 'Frontend-инженер, создаю интерфейсы';
      state.content.about = aboutEl.textContent.trim();
      // контакты
      const contacts = Array.from(document.querySelectorAll('#projects .project-card')).map((card, idx) => {
        return {
          name: card.querySelector('.proj-name')?.textContent.trim() || `Проект ${idx+1}`,
          desc: card.querySelector('.proj-desc')?.textContent.trim() || ''
        };
      });
      if (contacts.length) state.content.projects = contacts;
      // SEO
      state.content.seo.title = seoTitleEl.value;
      state.content.seo.description = seoDescEl.value;
    }

    function pushHistory() {
      const snapshot = JSON.stringify(state);
      if (historyPtr >= 0 && history[historyPtr] === snapshot) return;
      history = history.slice(0, historyPtr + 1);
      history.push(snapshot);
      if (history.length > MAX_HISTORY) history.shift();
      historyPtr = history.length - 1;
    }

    function undo() {
      if (historyPtr > 0) {
        historyPtr--;
        state = JSON.parse(history[historyPtr]);
        render();
        persistLocal();
        updateShareLink();
      }
    }
    function redo() {
      if (historyPtr < history.length -1) {
        historyPtr++;
        state = JSON.parse(history[historyPtr]);
        render();
        persistLocal();
        updateShareLink();
      }
    }

    function persistLocal() {
      try {
        localStorage.setItem('instant_portfolio_draft', JSON.stringify(state));
      } catch {}
    }

    function loadFromURLOrLocal() {
      const hash = location.hash.slice(1);
      if (hash.startsWith('s=')) {
        const compressed = hash.slice(2);
        try {
          const raw = LZString.decompressFromEncodedURIComponent(compressed);
          if (raw) {
            const parsed = JSON.parse(raw);
            state = { ...state, ...parsed };
          }
        } catch (e) { console.warn('Не удалось разжать из URL', e); }
      } else {
        try {
          const saved = localStorage.getItem('instant_portfolio_draft');
          if (saved) state = JSON.parse(saved);
        } catch {}
      }
      pushHistory();
    }

    function render() {
      // title/subtitle/about
      titleEl.textContent = state.content.title;
      subtitleEl.textContent = state.content.subtitle;
      aboutEl.textContent = state.content.about;
      // projects
      projectsEl.innerHTML = '';
      state.content.projects.forEach((p, i) => {
        const card = document.createElement('div');
        card.className = 'card project-card';
        card.style.position='relative';
        card.innerHTML = `
          <div contenteditable="true" class="proj-name inline-edit" style="font-weight:600;font-size:1rem;">${escapeHtml(p.name)}</div>
          <div contenteditable="true" class="proj-desc small" style="margin-top:4px;">${escapeHtml(p.desc)}</div>
          <div style="margin-top:10px;display:flex;gap:8px;">
            <button class="btn-secondary" onclick="removeProject(${i})">Удалить</button>
          </div>
        `;
        // слушатели
        card.querySelectorAll('[contenteditable]').forEach(el => {
          el.addEventListener('input', scheduleStateSave);
          el.addEventListener('blur', () => {
            applyFromDOM();
            pushHistory();
            updateShareLink();
          });
        });
        projectsEl.appendChild(card);
      });
      // contacts
      // (already inline in canvas)
      // SEO
      seoTitleEl.value = state.content.seo.title;
      seoDescEl.value = state.content.seo.description;
      // theme
      document.documentElement.style.setProperty('--primary', state.theme.accent);
      document.documentElement.style.setProperty('font-family', state.theme.font);
      colorPicker.value = state.theme.accent;
      fontSelect.value = state.theme.font;
      // animations
      if (!state.animations || window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.body.style.transition = 'none';
      }
      // template highlight
      highlightTemplateSelection();
    }

    function updateTheme() {
      state.theme.accent = colorPicker.value;
      state.theme.font = fontSelect.value;
      applyThemeToDOM();
      scheduleStateSave();
    }
    function applyThemeToDOM() {
      document.documentElement.style.setProperty('--primary', state.theme.accent);
      document.documentElement.style.setProperty('font-family', state.theme.font);
    }

    function addProject() {
      state.content.projects.push({ name: 'Новый проект', desc: 'Описание проекта.' });
      pushHistory();
      render();
      updateShareLink();
      persistLocal();
    }

    function removeProject(idx) {
      state.content.projects.splice(idx,1);
      pushHistory();
      render();
      updateShareLink();
      persistLocal();
    }

    function selectTemplate(name) {
      state.template = name;
      // визуально выделим
      highlightTemplateSelection();
      pushHistory();
      updateShareLink();
      persistLocal();
    }

    function highlightTemplateSelection() {
      ['ux','dev','minimal'].forEach(t => {
        const el = document.getElementById('tpl-' + (t==='dev'?'dev': t));
        if (!el) return;
        if (state.template === t) el.classList.add('template-selected');
        else el.classList.remove('template-selected');
        // синхронизируем toggles
        document.querySelectorAll('[data-template]').forEach(btn => {
          if (btn.getAttribute('data-template') === t) {
            btn.style.background = state.template === t ? 'rgba(37,99,235,.1)' : '';
          }
        });
      });
    }

    function updateShareLink() {
      const serialized = LZString.compressToEncodedURIComponent(JSON.stringify(state));
      const url = `${location.origin}${location.pathname}#s=${serialized}`;
      shareLinkInput.value = url;
    }

    function copyLink() {
      shareLinkInput.select();
      shareLinkInput.setSelectionRange(0, 99999);
      navigator.clipboard.writeText(shareLinkInput.value).then(() => {
        alert('Ссылка скопирована');
      });
    }

    function createDraft() {
      // просто фокус на редактирование, уже создано
      updateShareLink();
      titleEl.focus();
      window.scrollTo({ top: 300, behavior: 'smooth' });
    }

    function scrollToGallery() {
      document.getElementById('gallery').scrollIntoView({ behavior: 'smooth' });
    }

    function applyAnimationSettings() {
      const cb = document.getElementById('toggleAnimation');
      state.animations = cb.checked;
      pushHistory();
      updateShareLink();
    }

    function downloadStatic() {
      applyFromDOM();
      const snapshotHTML = generateStaticHTML();
      const blob = new Blob([snapshotHTML], { type: 'text/html' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'portfolio.html';
      a.click();
    }

    function generateStaticHTML() {
      // Собираем текущее содержимое в чистый HTML (без редакторских рамок)
      const safeTitle = escapeHtml(state.content.title);
      const safeSubtitle = escapeHtml(state.content.subtitle);
      const safeAbout = escapeHtml(state.content.about);
      const projectsHTML = state.content.projects.map(p => `
        <div style="background:#fff;border-radius:8px;padding:14px;margin-bottom:12px;box-shadow:0 20px 40px -10px rgba(31,45,58,.08);">
          <div style="font-weight:600;font-size:1rem;">${escapeHtml(p.name)}</div>
          <div style="margin-top:4px;color:#555;">${escapeHtml(p.desc)}</div>
        </div>
      `).join('');
      const contactsHTML = `
        <div style="display:flex;gap:12px;flex-wrap:wrap;margin-top:8px;">
          <div style="flex:1;min-width:120px;">Email: ${escapeHtml(state.content.contacts.email || 'example@mail.com')}</div>
          <div style="flex:1;min-width:120px;">GitHub: ${escapeHtml(state.content.contacts.github || 'github.com/username')}</div>
        </div>
      `;
      const accent = state.theme.accent;
      const font = state.theme.font;
      const seoTitle = escapeHtml(state.content.seo.title || safeTitle + ' — портфолио');
      const seoDesc = escapeHtml(state.content.seo.description || safeSubtitle || 'Портфолио без регистрации');
      return `
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>${seoTitle}</title>
  <meta name="description" content="${seoDesc}" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta property="og:title" content="${seoTitle}" />
  <meta property="og:description" content="${seoDesc}" />
  <style>
    :root {
      --primary: ${accent};
      font-family: ${font};
      color:#1f2d3a;
      background:#f5f7fa;
    }
    *{box-sizing:border-box;}
    body{margin:0;padding:0;background: #f5f7fa;font-family:inherit;}
    .container{max-width:900px;margin:0 auto;padding:40px 16px;}
    h1{margin:0;font-size:2.2rem;font-weight:700;}
    h2{margin:0;font-size:1.1rem;font-weight:600;color:#555;}
    .card{background:#fff;border-radius:10px;padding:16px;box-shadow:0 30px 60px -10px rgba(31,45,58,.08);margin-bottom:16px;}
    .badge{background:var(--primary);color:#fff;padding:6px 14px;border-radius:999px;font-size:.65rem;display:inline-block;margin-bottom:8px;}
    .small{font-size:.9rem;color:#555;margin-top:6px;}
    .projects{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:16px;margin-top:8px;}
  </style>
</head>
<body>
  <div class="container">
    <div>
      <div style="margin-bottom:12px;">
        <div style="font-size:.85rem;color:#777;">Портфолио</div>
        <h1>${safeTitle}</h1>
        <div style="margin-top:4px;font-size:1rem;color:#555;">${safeSubtitle}</div>
      </div>
      <div class="card">
        <div class="badge">О себе</div>
        <div class="small">${safeAbout}</div>
      </div>
      <div class="card">
        <div class="badge">Проекты</div>
        <div class="projects">
          ${projectsHTML}
        </div>
      </div>
      <div class="card">
        <div class="badge">Контакты</div>
        ${contactsHTML}
      </div>
      <div style="margin-top:40px;font-size:.8rem;color:#888;text-align:center;">Сгенерировано с помощью InstantPortfolio. Без регистрации.</div>
    </div>
  </div>
</body>
</html>
      `;
    }

    function escapeHtml(str) {
      return str.replace(/[&<>"']/g, function(m){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]; });
    }

    // навигация фильтров
    function filterTemplates(type) {
      document.querySelectorAll('.template-filter button').forEach(b => b.classList.remove('active'));
      document.querySelector(`.template-filter button[data-filter="${type}"]`)?.classList.add('active');
      document.querySelectorAll('#templates .template-card').forEach(card => {
        if (type === 'all') {
          card.style.display='block';
        } else {
          card.style.display = card.getAttribute('data-type') === type ? 'block' : 'none';
        }
      });
    }

    // Попытка загрузки из URL при старте
    window.addEventListener('load', init);
    window.addEventListener('hashchange', () => {
      loadFromURLOrLocal();
      render();
    });

  </script>
</body>
</html>
